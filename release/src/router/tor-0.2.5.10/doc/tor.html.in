<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>TOR(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="manpage">
<div id="header">
<h1>
TOR(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>tor -
   The second-generation onion router
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>tor</strong> [<em>OPTION</em> <em>value</em>]&#8230;</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>Tor is a connection-oriented anonymizing communication
service. Users choose a source-routed path through a set of nodes, and
negotiate a "virtual circuit" through the network, in which each node
knows its predecessor and successor, but no others. Traffic flowing down
the circuit is unwrapped by a symmetric key at each node, which reveals
the downstream node.<br /></p></div>
<div class="paragraph"><p>Basically, Tor provides a distributed network of servers or relays ("onion routers").
Users bounce their TCP streams&#8201;&#8212;&#8201;web traffic, ftp, ssh, etc.&#8201;&#8212;&#8201;around the
network, and recipients, observers, and even the relays themselves have
difficulty tracking the source of the stream.</p></div>
<div class="paragraph"><p>By default, <strong>tor</strong> will only act as a client only.  To help the network
by providing bandwidth as a relay, change the <strong>ORPort</strong> configuration
option&#8201;&#8212;&#8201;see below.  Please also consult the documentation on the Tor
Project&#8217;s website.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_options">COMMAND-LINE OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="opt-h"></a> <strong>-h</strong>, <strong>-help</strong>
</dt>
<dd>
<p>
    Display a short help message and exit.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-f"></a> <strong>-f</strong> <em>FILE</em>
</dt>
<dd>
<p>
    Specify a new configuration file to contain further Tor configuration
    options. (Default: @CONFDIR@/torrc, or $HOME/.torrc if that file is not
    found)
</p>
</dd>
<dt class="hdlist1">
<a id="opt-allow-missing-torrc"></a> <strong>--allow-missing-torrc</strong>
</dt>
<dd>
<p>
    Do not require that configuration file specified by <strong>-f</strong> exist if
    default torrc can be accessed.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-defaults-torrc"></a> <strong>--defaults-torrc</strong> <em>FILE</em>
</dt>
<dd>
<p>
    Specify a file in which to find default values for Tor options.  The
    contents of this file are overridden by those in the regular
    configuration file, and by those on the command line. (Default:
    @CONFDIR@/torrc-defaults.)
</p>
</dd>
<dt class="hdlist1">
<a id="opt-ignore-missing-torrc"></a> <strong>--ignore-missing-torrc</strong>
</dt>
<dd>
<p>
    Specifies that Tor should treat a missing torrc file as though it
    were empty. Ordinarily, Tor does this for missing default torrc files,
    but not for those specified on the command line.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-hash-password"></a> <strong>--hash-password</strong> <em>PASSWORD</em>
</dt>
<dd>
<p>
    Generates a hashed password for control port access.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-list-fingerprint"></a> <strong>--list-fingerprint</strong>
</dt>
<dd>
<p>
    Generate your keys and output your nickname and fingerprint.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-verify-config"></a> <strong>--verify-config</strong>
</dt>
<dd>
<p>
    Verify the configuration file is valid.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-serviceinstall"></a> <strong>--service install</strong> [<strong>--options</strong> <em>command-line options</em>]
</dt>
<dd>
<p>
    Install an instance of Tor as a Windows service, with the provided
    command-line options. Current instructions can be found at
    <a href="https://trac.torproject.org/projects/tor/wiki/doc/TorFAQ#HowdoIrunmyTorrelayasanNTservice">https://trac.torproject.org/projects/tor/wiki/doc/TorFAQ#HowdoIrunmyTorrelayasanNTservice</a>
</p>
</dd>
<dt class="hdlist1">
<a id="opt-service"></a> <strong>--service</strong> <strong>remove</strong>|<strong>start</strong>|<strong>stop</strong>
</dt>
<dd>
<p>
    Remove, start, or stop a configured Tor Windows service.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-nt-service"></a> <strong>--nt-service</strong>
</dt>
<dd>
<p>
    Used internally to implement a Windows service.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-list-torrc-options"></a> <strong>--list-torrc-options</strong>
</dt>
<dd>
<p>
    List all valid options.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-version"></a> <strong>--version</strong>
</dt>
<dd>
<p>
    Display Tor version and exit.
</p>
</dd>
<dt class="hdlist1">
<a id="opt-quiet"></a> <strong>--quiet</strong>|<strong>--hush</strong>
</dt>
<dd>
<p>
    Override the default console log.  By default, Tor starts out logging
    messages at level "notice" and higher to the console.  It stops doing so
    after it parses its configuration, if the configuration tells it to log
    anywhere else.  You can override this behavior with the <strong>--hush</strong> option,
    which tells Tor to only send warnings and errors to the console, or with
    the <strong>--quiet</strong> option, which tells Tor not to log to the console at all.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Other options can be specified on the command-line in the format "--option
value", in the format "option value", or in a configuration file.  For
instance, you can tell Tor to start listening for SOCKS connections on port
9999 by passing --SOCKSPort 9999 or SOCKSPort 9999 to it on the command line,
or by putting "SOCKSPort 9999" in the configuration file.  You will need to
quote options with spaces in them: if you want Tor to log all debugging
messages to debug.log, you will probably need to say --Log <em>debug file
debug.log</em>.</p></div>
<div class="paragraph"><p>Options on the command line override those in configuration files. See the
next section for more information.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_the_configuration_file_format">THE CONFIGURATION FILE FORMAT</h2>
<div class="sectionbody">
<div class="paragraph"><p>All configuration options in a configuration are written on a single line by
default.  They take the form of an option name and a value, or an option name
and a quoted value (option value or option "value"). Anything after a #
character is treated as a comment.  Options are
case-insensitive. C-style escaped characters are allowed inside quoted
values. To split one configuration entry into multiple lines, use a single
backslash character (\) before the end of the line.  Comments can be used in
such multiline entries, but they must start at the beginning of a line.</p></div>
<div class="paragraph"><p>By default, an option on the command line overrides an option found in the
configuration file, and an option in a configuration file overrides one in
the defaults file.</p></div>
<div class="paragraph"><p>This rule is simple for options that take a single value, but it can become
complicated for options that are allowed to occur more than once: if you
specify four SOCKSPorts in your configuration file, and one more SOCKSPort on
the command line, the option on the command line will replace <em>all</em> of the
SOCKSPorts in the configuration file.  If this isn&#8217;t what you want, prefix
the option name with a plus sign, and it will be appended to the previous set
of options instead.</p></div>
<div class="paragraph"><p>Alternatively, you might want to remove every instance of an option in the
configuration file, and not replace it at all: you might want to say on the
command line that you want no SOCKSPorts at all.  To do that, prefix the
option name with a forward slash.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_general_options">GENERAL OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="BandwidthRate"></a> <strong>BandwidthRate</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    A token bucket limits the average incoming bandwidth usage on this node to
    the specified number of bytes per second, and the average outgoing
    bandwidth usage to that same value.  If you want to run a relay in the
    public network, this needs to be <em>at the very least</em> 30 KBytes (that is,
    30720 bytes). (Default: 1 GByte)<br />
<br />
    With this option, and in other options that take arguments in bytes,
    KBytes, and so on, other formats are also supported. Notably, "KBytes" can
    also be written as "kilobytes" or "kb"; "MBytes" can be written as
    "megabytes" or "MB"; "kbits" can be written as "kilobits"; and so forth.
    Tor also accepts "byte" and "bit" in the singular.
    The prefixes "tera" and "T" are also recognized.
    If no units are given, we default to bytes.
    To avoid confusion, we recommend writing "bytes" or "bits" explicitly,
    since it&#8217;s easy to forget that "B" means bytes, not bits.
</p>
</dd>
<dt class="hdlist1">
<a id="BandwidthBurst"></a> <strong>BandwidthBurst</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    Limit the maximum token bucket size (also known as the burst) to the given
    number of bytes in each direction. (Default: 1 GByte)
</p>
</dd>
<dt class="hdlist1">
<a id="MaxAdvertisedBandwidth"></a> <strong>MaxAdvertisedBandwidth</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    If set, we will not advertise more than this amount of bandwidth for our
    BandwidthRate. Server operators who want to reduce the number of clients
    who ask to build circuits through them (since this is proportional to
    advertised bandwidth rate) can thus reduce the CPU demands on their server
    without impacting network performance.
</p>
</dd>
<dt class="hdlist1">
<a id="RelayBandwidthRate"></a> <strong>RelayBandwidthRate</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    If not 0, a separate token bucket limits the average incoming bandwidth
    usage for _relayed traffic_ on this node to the specified number of bytes
    per second, and the average outgoing bandwidth usage to that same value.
    Relayed traffic currently is calculated to include answers to directory
    requests, but that may change in future versions. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="RelayBandwidthBurst"></a> <strong>RelayBandwidthBurst</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    If not 0, limit the maximum token bucket size (also known as the burst) for
    _relayed traffic_ to the given number of bytes in each direction.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="PerConnBWRate"></a> <strong>PerConnBWRate</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    If set, do separate rate limiting for each connection from a non-relay.
    You should never need to change this value, since a network-wide value is
    published in the consensus and your relay will use that value. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="PerConnBWBurst"></a> <strong>PerConnBWBurst</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    If set, do separate rate limiting for each connection from a non-relay.
    You should never need to change this value, since a network-wide value is
    published in the consensus and your relay will use that value. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ClientTransportPlugin"></a> <strong>ClientTransportPlugin</strong> <em>transport</em> socks4|socks5 <em>IP</em>:<em>PORT</em>
</dt>
<dt class="hdlist1">
<strong>ClientTransportPlugin</strong> <em>transport</em> exec <em>path-to-binary</em> [options]
</dt>
<dd>
<p>
    In its first form, when set along with a corresponding Bridge line, the Tor
    client forwards its traffic to a SOCKS-speaking proxy on "IP:PORT". It&#8217;s the
    duty of that proxy to properly forward the traffic to the bridge.<br />
<br />
    In its second form, when set along with a corresponding Bridge line, the Tor
    client launches the pluggable transport proxy executable in
    <em>path-to-binary</em> using <em>options</em> as its command-line options, and
    forwards its traffic to it. It&#8217;s the duty of that proxy to properly forward
    the traffic to the bridge.
</p>
</dd>
<dt class="hdlist1">
<a id="ServerTransportPlugin"></a> <strong>ServerTransportPlugin</strong> <em>transport</em> exec <em>path-to-binary</em> [options]
</dt>
<dd>
<p>
    The Tor relay launches the pluggable transport proxy in <em>path-to-binary</em>
    using <em>options</em> as its command-line options, and expects to receive
    proxied client traffic from it.
</p>
</dd>
<dt class="hdlist1">
<a id="ServerTransportListenAddr"></a> <strong>ServerTransportListenAddr</strong> <em>transport</em> <em>IP</em>:<em>PORT</em>
</dt>
<dd>
<p>
    When this option is set, Tor will suggest <em>IP</em>:<em>PORT</em> as the
    listening address of any pluggable transport proxy that tries to
    launch <em>transport</em>.
</p>
</dd>
<dt class="hdlist1">
<a id="ServerTransportOptions"></a> <strong>ServerTransportOptions</strong> <em>transport</em> <em>k=v</em> <em>k=v</em> &#8230;
</dt>
<dd>
<p>
    When this option is set, Tor will pass the <em>k=v</em> parameters to
    any pluggable transport proxy that tries to launch <em>transport</em>.<br />
    (Example: ServerTransportOptions obfs45 shared-secret=bridgepasswd cache=/var/lib/tor/cache)
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="ExtORPort"></a> <strong>ExtORPort</strong> [<em>address</em>:]<em>port</em>|<strong>auto</strong>
    Open this port to listen for Extended ORPort connections from your
    pluggable transports.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="ExtORPortCookieAuthFile"></a> <strong>ExtORPortCookieAuthFile</strong> <em>Path</em>
</dt>
<dd>
<p>
    If set, this option overrides the default location and file name
    for the Extended ORPort&#8217;s cookie file&#8201;&#8212;&#8201;the cookie file is needed
    for pluggable transports to communicate through the Extended ORPort.
</p>
</dd>
<dt class="hdlist1">
<a id="ExtORPortCookieAuthFileGroupReadable"></a> <strong>ExtORPortCookieAuthFileGroupReadable</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 0, don&#8217;t allow the filesystem group to read the
    Extended OR Port cookie file. If the option is set to 1, make the cookie
    file readable by the default GID. [Making the file readable by other
    groups is not yet implemented; let us know if you need this for some
    reason.] (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ConnLimit"></a> <strong>ConnLimit</strong> <em>NUM</em>
</dt>
<dd>
<p>
    The minimum number of file descriptors that must be available to the Tor
    process before it will start. Tor will ask the OS for as many file
    descriptors as the OS will allow (you can find this by "ulimit -H -n").
    If this number is less than ConnLimit, then Tor will refuse to start.<br />
<br />
    You probably don&#8217;t need to adjust this. It has no effect on Windows
    since that platform lacks getrlimit(). (Default: 1000)
</p>
</dd>
<dt class="hdlist1">
<a id="DisableNetwork"></a> <strong>DisableNetwork</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set, we don&#8217;t listen for or accept any connections
    other than controller connections, and we close (and don&#8217;t reattempt)
    any outbound
    connections.  Controllers sometimes use this option to avoid using
    the network until Tor is fully configured. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ConstrainedSockets"></a> <strong>ConstrainedSockets</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set, Tor will tell the kernel to attempt to shrink the buffers for all
    sockets to the size specified in <strong>ConstrainedSockSize</strong>. This is useful for
    virtual servers and other environments where system level TCP buffers may
    be limited. If you&#8217;re on a virtual server, and you encounter the "Error
    creating network socket: No buffer space available" message, you are
    likely experiencing this problem.<br />
<br />
    The preferred solution is to have the admin increase the buffer pool for
    the host itself via /proc/sys/net/ipv4/tcp_mem or equivalent facility;
    this configuration option is a second-resort.<br />
<br />
    The DirPort option should also not be used if TCP buffers are scarce. The
    cached directory requests consume additional sockets which exacerbates
    the problem.<br />
<br />
    You should <strong>not</strong> enable this feature unless you encounter the "no buffer
    space available" issue. Reducing the TCP buffers affects window size for
    the TCP stream and will reduce throughput in proportion to round trip
    time on long paths. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ConstrainedSockSize"></a> <strong>ConstrainedSockSize</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>
</dt>
<dd>
<p>
    When <strong>ConstrainedSockets</strong> is enabled the receive and transmit buffers for
    all sockets will be set to this limit. Must be a value between 2048 and
    262144, in 1024 byte increments. Default of 8192 is recommended.
</p>
</dd>
<dt class="hdlist1">
<a id="ControlPort"></a> <strong>ControlPort</strong> <em>PORT</em>|<strong>auto</strong>
</dt>
<dd>
<p>
    If set, Tor will accept connections on this port and allow those
    connections to control the Tor process using the Tor Control Protocol
    (described in control-spec.txt). Note: unless you also specify one or
    more of <strong>HashedControlPassword</strong> or <strong>CookieAuthentication</strong>,
    setting this option will cause Tor to allow any process on the local
    host to control it. (Setting both authentication methods means either
    method is sufficient to authenticate to Tor.) This
    option is required for many Tor controllers; most use the value of 9051.
    Set it to "auto" to have Tor pick a port for you. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ControlListenAddress"></a> <strong>ControlListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind the controller listener to this address. If you specify a port, bind
    to this port rather than the one specified in ControlPort. We strongly
    recommend that you leave this alone unless you know what you&#8217;re doing,
    since giving attackers access to your control listener is really
    dangerous. This directive can be specified multiple
    times to bind to multiple addresses/ports.  (Default: 127.0.0.1)
</p>
</dd>
<dt class="hdlist1">
<a id="ControlSocket"></a> <strong>ControlSocket</strong> <em>Path</em>
</dt>
<dd>
<p>
    Like ControlPort, but listens on a Unix domain socket, rather than a TCP
    socket. (Unix and Unix-like systems only.)
</p>
</dd>
<dt class="hdlist1">
<a id="ControlSocketsGroupWritable"></a> <strong>ControlSocketsGroupWritable</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 0, don&#8217;t allow the filesystem group to read and
    write unix sockets (e.g. ControlSocket). If the option is set to 1, make
    the control socket readable and writable by the default GID. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="HashedControlPassword"></a> <strong>HashedControlPassword</strong> <em>hashed_password</em>
</dt>
<dd>
<p>
    Allow connections on the control port if they present
    the password whose one-way hash is <em>hashed_password</em>. You
    can compute the hash of a password by running "tor --hash-password
    <em>password</em>". You can provide several acceptable passwords by using more
    than one HashedControlPassword line.
</p>
</dd>
<dt class="hdlist1">
<a id="CookieAuthentication"></a> <strong>CookieAuthentication</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, allow connections on the control port
    when the connecting process knows the contents of a file named
    "control_auth_cookie", which Tor will create in its data directory. This
    authentication method should only be used on systems with good filesystem
    security. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="CookieAuthFile"></a> <strong>CookieAuthFile</strong> <em>Path</em>
</dt>
<dd>
<p>
    If set, this option overrides the default location and file name
    for Tor&#8217;s cookie file. (See CookieAuthentication above.)
</p>
</dd>
<dt class="hdlist1">
<a id="CookieAuthFileGroupReadable"></a> <strong>CookieAuthFileGroupReadable</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 0, don&#8217;t allow the filesystem group to read the
    cookie file. If the option is set to 1, make the cookie file readable by
    the default GID. [Making the file readable by other groups is not yet
    implemented; let us know if you need this for some reason.] (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ControlPortWriteToFile"></a> <strong>ControlPortWriteToFile</strong> <em>Path</em>
</dt>
<dd>
<p>
    If set, Tor writes the address and port of any control port it opens to
    this address.  Usable by controllers to learn the actual control port
    when ControlPort is set to "auto".
</p>
</dd>
<dt class="hdlist1">
<a id="ControlPortFileGroupReadable"></a> <strong>ControlPortFileGroupReadable</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 0, don&#8217;t allow the filesystem group to read the
    control port file. If the option is set to 1, make the control port
    file readable by the default GID. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="DataDirectory"></a> <strong>DataDirectory</strong> <em>DIR</em>
</dt>
<dd>
<p>
    Store working data in DIR (Default: @LOCALSTATEDIR@/lib/tor)
</p>
</dd>
<dt class="hdlist1">
<a id="FallbackDir"></a> <strong>FallbackDir</strong> <em>address</em>:<em>port</em> orport=<em>port</em> id=<em>fingerprint</em> [weight=<em>num</em>]
</dt>
<dd>
<p>
    When we&#8217;re unable to connect to any directory cache for directory info
    (usually because we don&#8217;t know about any yet) we try a FallbackDir.
    By default, the directory authorities are also FallbackDirs.
</p>
</dd>
<dt class="hdlist1">
<a id="DirAuthority"></a> <strong>DirAuthority</strong> [<em>nickname</em>] [<strong>flags</strong>] <em>address</em>:<em>port</em> <em>fingerprint</em>
</dt>
<dd>
<p>
    Use a nonstandard authoritative directory server at the provided address
    and port, with the specified key fingerprint. This option can be repeated
    many times, for multiple authoritative directory servers. Flags are
    separated by spaces, and determine what kind of an authority this directory
    is. By default, an authority is not authoritative for any directory style
    or version unless an appropriate flag is given.
    Tor will use this authority as a bridge authoritative directory if the
    "bridge" flag is set. If a flag "orport=<strong>port</strong>" is given, Tor will use the
    given port when opening encrypted tunnels to the dirserver. If a flag
    "weight=<strong>num</strong>" is given, then the directory server is chosen randomly
    with probability proportional to that weight (default 1.0). Lastly, if a
    flag "v3ident=<strong>fp</strong>" is given, the dirserver is a v3 directory authority
    whose v3 long-term signing key has the fingerprint <strong>fp</strong>.<br />
<br />
    If no <strong>DirAuthority</strong> line is given, Tor will use the default directory
    authorities. NOTE: this option is intended for setting up a private Tor
    network with its own directory authorities. If you use it, you will be
    distinguishable from other users, because you won&#8217;t believe the same
    authorities they do.
</p>
</dd>
<dt class="hdlist1">
<a id="DirAuthorityFallbackRate"></a> <strong>DirAuthorityFallbackRate</strong> <em>NUM</em>
</dt>
<dd>
<p>
    When configured to use both directory authorities and fallback
    directories, the directory authorities also work as fallbacks. They are
    chosen with their regular weights, multiplied by this number, which
    should be 1.0 or less. (Default: 1.0)
</p>
</dd>
<dt class="hdlist1">
<a id="DynamicDHGroups"></a> <strong>DynamicDHGroups</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, when running as a server, generate our
    own Diffie-Hellman group instead of using the one from Apache&#8217;s mod_ssl.
    This option may help circumvent censorship based on static
    Diffie-Hellman parameters. (Default: 0)
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="AlternateDirAuthority"></a> <strong>AlternateDirAuthority</strong> [<em>nickname</em>] [<strong>flags</strong>] <em>address</em>:<em>port</em> <em>fingerprint</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="AlternateBridgeAuthority"></a> <strong>AlternateBridgeAuthority</strong> [<em>nickname</em>] [<strong>flags</strong>] <em>address</em>:<em>port</em> <em> fingerprint</em>
</dt>
<dd>
<p>
    These options behave as DirAuthority, but they replace fewer of the
    default directory authorities. Using
    AlternateDirAuthority replaces the default Tor directory authorities, but
    leaves the default bridge authorities in
    place.  Similarly,
    AlternateBridgeAuthority replaces the default bridge authority,
    but leaves the directory authorities alone.
</p>
</dd>
<dt class="hdlist1">
<a id="DisableAllSwap"></a> <strong>DisableAllSwap</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will attempt to lock all current and future memory pages,
    so that memory cannot be paged out. Windows, OS X and Solaris are currently
    not supported. We believe that this feature works on modern Gnu/Linux
    distributions, and that it should work on *BSD systems (untested). This
    option requires that you start your Tor as root, and you should use the
    <strong>User</strong> option to properly reduce Tor&#8217;s privileges. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="DisableDebuggerAttachment"></a> <strong>DisableDebuggerAttachment</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
   If set to 1, Tor will attempt to prevent basic debugging attachment attempts
   by other processes. This may also keep Tor from generating core files if
   it crashes. It has no impact for users who wish to attach if they
   have CAP_SYS_PTRACE or if they are root.  We believe that this feature
   works on modern Gnu/Linux distributions, and that it may also work on *BSD
   systems (untested).  Some modern Gnu/Linux systems such as Ubuntu have the
   kernel.yama.ptrace_scope sysctl and by default enable it as an attempt to
   limit the PTRACE scope for all user processes by default. This feature will
   attempt to limit the PTRACE scope for Tor specifically - it will not attempt
   to alter the system wide ptrace scope as it may not even exist. If you wish
   to attach to Tor with a debugger such as gdb or strace you will want to set
   this to 0 for the duration of your debugging. Normal users should leave it
   on. Disabling this option while Tor is running is prohibited. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="FetchDirInfoEarly"></a> <strong>FetchDirInfoEarly</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will always fetch directory information like other
    directory caches, even if you don&#8217;t meet the normal criteria for fetching
    early. Normal users should leave it off. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="FetchDirInfoExtraEarly"></a> <strong>FetchDirInfoExtraEarly</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will fetch directory information before other directory
    caches. It will attempt to download directory information closer to the
    start of the consensus period. Normal users should leave it off.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="FetchHidServDescriptors"></a> <strong>FetchHidServDescriptors</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 0, Tor will never fetch any hidden service descriptors from the
    rendezvous directories. This option is only useful if you&#8217;re using a Tor
    controller that handles hidden service fetches for you. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="FetchServerDescriptors"></a> <strong>FetchServerDescriptors</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 0, Tor will never fetch any network status summaries or server
    descriptors from the directory servers. This option is only useful if
    you&#8217;re using a Tor controller that handles directory fetches for you.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="FetchUselessDescriptors"></a> <strong>FetchUselessDescriptors</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will fetch every non-obsolete descriptor from the
    authorities that it hears about. Otherwise, it will avoid fetching useless
    descriptors, for example for routers that are not running. This option is
    useful if you&#8217;re using the contributed "exitlist" script to enumerate Tor
    nodes that exit to certain addresses. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="HTTPProxy"></a> <strong>HTTPProxy</strong> <em>host</em>[:<em>port</em>]
</dt>
<dd>
<p>
    Tor will make all its directory requests through this host:port (or host:80
    if port is not specified), rather than connecting directly to any directory
    servers.
</p>
</dd>
<dt class="hdlist1">
<a id="HTTPProxyAuthenticator"></a> <strong>HTTPProxyAuthenticator</strong> <em>username:password</em>
</dt>
<dd>
<p>
    If defined, Tor will use this username:password for Basic HTTP proxy
    authentication, as in RFC 2617. This is currently the only form of HTTP
    proxy authentication that Tor supports; feel free to submit a patch if you
    want it to support others.
</p>
</dd>
<dt class="hdlist1">
<a id="HTTPSProxy"></a> <strong>HTTPSProxy</strong> <em>host</em>[:<em>port</em>]
</dt>
<dd>
<p>
    Tor will make all its OR (SSL) connections through this host:port (or
    host:443 if port is not specified), via HTTP CONNECT rather than connecting
    directly to servers. You may want to set <strong>FascistFirewall</strong> to restrict
    the set of ports you might try to connect to, if your HTTPS proxy only
    allows connecting to certain ports.
</p>
</dd>
<dt class="hdlist1">
<a id="HTTPSProxyAuthenticator"></a> <strong>HTTPSProxyAuthenticator</strong> <em>username:password</em>
</dt>
<dd>
<p>
    If defined, Tor will use this username:password for Basic HTTPS proxy
    authentication, as in RFC 2617. This is currently the only form of HTTPS
    proxy authentication that Tor supports; feel free to submit a patch if you
    want it to support others.
</p>
</dd>
<dt class="hdlist1">
<a id="Sandbox"></a> <strong>Sandbox</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will run securely through the use of a syscall sandbox.
    Otherwise the sandbox will be disabled. The option is currently an
    experimental feature. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="Socks4Proxy"></a> <strong>Socks4Proxy</strong> <em>host</em>[:<em>port</em>]
</dt>
<dd>
<p>
    Tor will make all OR connections through the SOCKS 4 proxy at host:port
    (or host:1080 if port is not specified).
</p>
</dd>
<dt class="hdlist1">
<a id="Socks5Proxy"></a> <strong>Socks5Proxy</strong> <em>host</em>[:<em>port</em>]
</dt>
<dd>
<p>
    Tor will make all OR connections through the SOCKS 5 proxy at host:port
    (or host:1080 if port is not specified).
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="Socks5ProxyUsername"></a> <strong>Socks5ProxyUsername</strong> <em>username</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Socks5ProxyPassword"></a> <strong>Socks5ProxyPassword</strong> <em>password</em>
</dt>
<dd>
<p>
    If defined, authenticate to the SOCKS 5 server using username and password
    in accordance to RFC 1929. Both username and password must be between 1 and
    255 characters.
</p>
</dd>
<dt class="hdlist1">
<a id="KeepalivePeriod"></a> <strong>KeepalivePeriod</strong> <em>NUM</em>
</dt>
<dd>
<p>
    To keep firewalls from expiring connections, send a padding keepalive cell
    every NUM seconds on open connections that are in use. If the connection
    has no open circuits, it will instead be closed after NUM seconds of
    idleness. (Default: 5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="Log"></a> <strong>Log</strong> <em>minSeverity</em>[-<em>maxSeverity</em>] <strong>stderr</strong>|<strong>stdout</strong>|<strong>syslog</strong>
</dt>
<dd>
<p>
    Send all messages between <em>minSeverity</em> and <em>maxSeverity</em> to the standard
    output stream, the standard error stream, or to the system log. (The
    "syslog" value is only supported on Unix.) Recognized severity levels are
    debug, info, notice, warn, and err. We advise using "notice" in most cases,
    since anything more verbose may provide sensitive information to an
    attacker who obtains the logs. If only one severity level is given, all
    messages of that level or higher will be sent to the listed destination.
</p>
</dd>
<dt class="hdlist1">
<a id="Log2"></a> <strong>Log</strong> <em>minSeverity</em>[-<em>maxSeverity</em>] <strong>file</strong> <em>FILENAME</em>
</dt>
<dd>
<p>
    As above, but send log messages to the listed filename. The
    "Log" option may appear more than once in a configuration file.
    Messages are sent to all the logs that match their severity
    level.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="Log3"></a> <strong>Log</strong> <strong>[</strong><em>domain</em>,&#8230;<strong>]</strong><em>minSeverity</em>[-<em>maxSeverity</em>] &#8230; <strong>file</strong> <em>FILENAME</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Log4"></a> <strong>Log</strong> <strong>[</strong><em>domain</em>,&#8230;<strong>]</strong><em>minSeverity</em>[-<em>maxSeverity</em>] &#8230; <strong>stderr</strong>|<strong>stdout</strong>|<strong>syslog</strong>
</dt>
<dd>
<p>
    As above, but select messages by range of log severity <em>and</em> by a
    set of "logging domains".  Each logging domain corresponds to an area of
    functionality inside Tor.  You can specify any number of severity ranges
    for a single log statement, each of them prefixed by a comma-separated
    list of logging domains.  You can prefix a domain with ~ to indicate
    negation, and use * to indicate "all domains".  If you specify a severity
    range without a list of domains, it matches all domains.<br />
<br />
    This is an advanced feature which is most useful for debugging one or two
    of Tor&#8217;s subsystems at a time.<br />
<br />
    The currently recognized domains are: general, crypto, net, config, fs,
    protocol, mm, http, app, control, circ, rend, bug, dir, dirserv, or, edge,
    acct, hist, and handshake.  Domain names are case-insensitive.<br />
<br />
    For example, "<code>Log [handshake]debug [~net,~mm]info notice stdout</code>" sends
    to stdout: all handshake messages of any severity, all info-and-higher
    messages from domains other than networking and memory management, and all
    messages of severity notice or higher.
</p>
</dd>
<dt class="hdlist1">
<a id="LogMessageDomains"></a> <strong>LogMessageDomains</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor includes message domains with each log message.  Every log
    message currently has at least one domain; most currently have exactly
    one.  This doesn&#8217;t affect controller log messages. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="OutboundBindAddress"></a> <strong>OutboundBindAddress</strong> <em>IP</em>
</dt>
<dd>
<p>
    Make all outbound connections originate from the IP address specified. This
    is only useful when you have multiple network interfaces, and you want all
    of Tor&#8217;s outgoing connections to use a single one. This option may
    be used twice, once with an IPv4 address and once with an IPv6 address.
    This setting will be ignored for connections to the loopback addresses
    (127.0.0.0/8 and ::1).
</p>
</dd>
<dt class="hdlist1">
<a id="PidFile"></a> <strong>PidFile</strong> <em>FILE</em>
</dt>
<dd>
<p>
    On startup, write our PID to FILE. On clean shutdown, remove
    FILE.
</p>
</dd>
<dt class="hdlist1">
<a id="ProtocolWarnings"></a> <strong>ProtocolWarnings</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor will log with severity 'warn' various cases of other parties not
    following the Tor specification. Otherwise, they are logged with severity
    'info'. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="PredictedPortsRelevanceTime"></a> <strong>PredictedPortsRelevanceTime</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Set how long, after the client has mad an anonymized connection to a
    given port, we will try to make sure that we build circuits to
    exits that support that port. The maximum value for this option is 1
    hour. (Default: 1 hour)
</p>
</dd>
<dt class="hdlist1">
<a id="RunAsDaemon"></a> <strong>RunAsDaemon</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor forks and daemonizes to the background. This option has no effect
    on Windows; instead you should use the --service command-line option.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="LogTimeGranularity"></a> <strong>LogTimeGranularity</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Set the resolution of timestamps in Tor&#8217;s logs to NUM milliseconds.
    NUM must be positive and either a divisor or a multiple of 1 second.
    Note that this option only controls the granularity written by Tor to
    a file or console log.  Tor does not (for example) "batch up" log
    messages to affect times logged by a controller, times attached to
    syslog messages, or the mtime fields on log files.  (Default: 1 second)
</p>
</dd>
<dt class="hdlist1">
<a id="SafeLogging"></a> <strong>SafeLogging</strong> <strong>0</strong>|<strong>1</strong>|<strong>relay</strong>
</dt>
<dd>
<p>
    Tor can scrub potentially sensitive strings from log messages (e.g.
    addresses) by replacing them with the string [scrubbed]. This way logs can
    still be useful, but they don&#8217;t leave behind personally identifying
    information about what sites a user might have visited.<br />
<br />
    If this option is set to 0, Tor will not perform any scrubbing, if it is
    set to 1, all potentially sensitive strings are replaced. If it is set to
    relay, all log messages generated when acting as a relay are sanitized, but
    all messages generated when acting as a client are not. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="User"></a> <strong>User</strong> <em>UID</em>
</dt>
<dd>
<p>
    On startup, setuid to this user and setgid to their primary group.
</p>
</dd>
<dt class="hdlist1">
<a id="HardwareAccel"></a> <strong>HardwareAccel</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If non-zero, try to use built-in (static) crypto hardware acceleration when
    available. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AccelName"></a> <strong>AccelName</strong> <em>NAME</em>
</dt>
<dd>
<p>
    When using OpenSSL hardware crypto acceleration attempt to load the dynamic
    engine of this name. This must be used for any dynamic hardware engine.
    Names can be verified with the openssl engine command.
</p>
</dd>
<dt class="hdlist1">
<a id="AccelDir"></a> <strong>AccelDir</strong> <em>DIR</em>
</dt>
<dd>
<p>
    Specify this option if using dynamic hardware acceleration and the engine
    implementation library resides somewhere other than the OpenSSL default.
</p>
</dd>
<dt class="hdlist1">
<a id="AvoidDiskWrites"></a> <strong>AvoidDiskWrites</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If non-zero, try to write to disk less frequently than we would otherwise.
    This is useful when running on flash memory or other media that support
    only a limited number of writes. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="CircuitPriorityHalflife"></a> <strong>CircuitPriorityHalflife</strong> <em>NUM1</em>
</dt>
<dd>
<p>
    If this value is set, we override the default algorithm for choosing which
    circuit&#8217;s cell to deliver or relay next. When the value is 0, we
    round-robin between the active circuits on a connection, delivering one
    cell from each in turn. When the value is positive, we prefer delivering
    cells from whichever connection has the lowest weighted cell count, where
    cells are weighted exponentially according to the supplied
    CircuitPriorityHalflife value (in seconds). If this option is not set at
    all, we use the behavior recommended in the current consensus
    networkstatus. This is an advanced option; you generally shouldn&#8217;t have
    to mess with it. (Default: not set)
</p>
</dd>
<dt class="hdlist1">
<a id="DisableIOCP"></a> <strong>DisableIOCP</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If Tor was built to use the Libevent&#8217;s "bufferevents" networking code
    and you&#8217;re running on Windows, setting this option to 1 will tell Libevent
    not to use the Windows IOCP networking API.  (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="UserspaceIOCPBuffers"></a> <strong>UserspaceIOCPBuffers</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If IOCP is enabled (see DisableIOCP above), setting this option to 1
    will tell Tor to disable kernel-space TCP buffers, in order to avoid
    needless copy operations and try not to run out of non-paged RAM.
    This feature is experimental; don&#8217;t use it yet unless you&#8217;re eager to
    help tracking down bugs. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="UseFilteringSSLBufferevents"></a> <strong>UseFilteringSSLBufferevents</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Tells Tor to do its SSL communication using a chain of
    bufferevents: one for SSL and one for networking.  This option has no
    effect if bufferevents are disabled (in which case it can&#8217;t turn on), or
    if IOCP bufferevents are enabled (in which case it can&#8217;t turn off).  This
    option is useful for debugging only; most users shouldn&#8217;t touch it.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="CountPrivateBandwidth"></a> <strong>CountPrivateBandwidth</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set, then Tor&#8217;s rate-limiting applies not only to
    remote connections, but also to connections to private addresses like
    127.0.0.1 or 10.0.0.1.  This is mostly useful for debugging
    rate-limiting.  (Default: 0)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_client_options">CLIENT OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options are useful only for clients (that is, if
<strong>SocksPort</strong>, <strong>TransPort</strong>, <strong>DNSPort</strong>, or <strong>NATDPort</strong> is non-zero):</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="AllowInvalidNodes"></a> <strong>AllowInvalidNodes</strong> <strong>entry</strong>|<strong>exit</strong>|<strong>middle</strong>|<strong>introduction</strong>|<strong>rendezvous</strong>|<strong>&#8230;</strong>
</dt>
<dd>
<p>
    If some Tor servers are obviously not working right, the directory
    authorities can manually mark them as invalid, meaning that it&#8217;s not
    recommended you use them for entry or exit positions in your circuits. You
    can opt to use them in some circuit positions, though. The default is
    "middle,rendezvous", and other choices are not advised.
</p>
</dd>
<dt class="hdlist1">
<a id="ExcludeSingleHopRelays"></a> <strong>ExcludeSingleHopRelays</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    This option controls whether circuits built by Tor will include relays with
    the AllowSingleHopExits flag set to true. If ExcludeSingleHopRelays is set
    to 0, these relays will be included. Note that these relays might be at
    higher risk of being seized or observed, so they are not normally
    included.  Also note that relatively few clients turn off this option,
    so using these relays might make your client stand out.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="Bridge"></a> <strong>Bridge</strong> [<em>transport</em>] <em>IP</em>:<em>ORPort</em> [<em>fingerprint</em>]
</dt>
<dd>
<p>
    When set along with UseBridges, instructs Tor to use the relay at
    "IP:ORPort" as a "bridge" relaying into the Tor network. If "fingerprint"
    is provided (using the same format as for DirAuthority), we will verify that
    the relay running at that location has the right fingerprint. We also use
    fingerprint to look up the bridge descriptor at the bridge authority, if
    it&#8217;s provided and if UpdateBridgesFromAuthority is set too. <br />
<br />
    If "transport" is provided, and matches to a ClientTransportPlugin
    line, we use that pluggable transports proxy to transfer data to
    the bridge.
</p>
</dd>
<dt class="hdlist1">
<a id="LearnCircuitBuildTimeout"></a> <strong>LearnCircuitBuildTimeout</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 0, CircuitBuildTimeout adaptive learning is disabled. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="CircuitBuildTimeout"></a> <strong>CircuitBuildTimeout</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Try for at most NUM seconds when building circuits. If the circuit isn&#8217;t
    open in that time, give up on it. If LearnCircuitBuildTimeout is 1, this
    value serves as the initial value to use before a timeout is learned. If
    LearnCircuitBuildTimeout is 0, this value is the only value used.
    (Default: 60 seconds)
</p>
</dd>
<dt class="hdlist1">
<a id="CircuitIdleTimeout"></a> <strong>CircuitIdleTimeout</strong> <em>NUM</em>
</dt>
<dd>
<p>
    If we have kept a clean (never used) circuit around for NUM seconds, then
    close it. This way when the Tor client is entirely idle, it can expire all
    of its circuits, and then expire its TLS connections. Also, if we end up
    making a circuit that is not useful for exiting any of the requests we&#8217;re
    receiving, it won&#8217;t forever take up a slot in the circuit list. (Default: 1
    hour)
</p>
</dd>
<dt class="hdlist1">
<a id="CircuitStreamTimeout"></a> <strong>CircuitStreamTimeout</strong> <em>NUM</em>
</dt>
<dd>
<p>
    If non-zero, this option overrides our internal timeout schedule for how
    many seconds until we detach a stream from a circuit and try a new circuit.
    If your network is particularly slow, you might want to set this to a
    number like 60. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ClientOnly"></a> <strong>ClientOnly</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will not run as a relay or serve
    directory requests, even if the ORPort, ExtORPort, or DirPort options are
    set. (This config option is
    mostly unnecessary: we added it back when we were considering having
    Tor clients auto-promote themselves to being relays if they were stable
    and fast enough. The current behavior is simply that Tor is a client
    unless ORPort, ExtORPort, or DirPort are configured.) (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ExcludeNodes"></a> <strong>ExcludeNodes</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of identity fingerprints, nicknames, country codes and address
    patterns of nodes to avoid when building a circuit.
    (Example:
    ExcludeNodes SlowServer, ABCD1234CDEF5678ABCD1234CDEF5678ABCD1234, {cc}, 255.254.0.0/8)<br />
<br />
    By default, this option is treated as a preference that Tor is allowed
    to override in order to keep working.
    For example, if you try to connect to a hidden service,
    but you have excluded all of the hidden service&#8217;s introduction points,
    Tor will connect to one of them anyway.  If you do not want this
    behavior, set the StrictNodes option (documented below). <br />
<br />
    Note also that if you are a relay, this (and the other node selection
    options below) only affects your own circuits that Tor builds for you.
    Clients can still build circuits through you to any node.  Controllers
    can tell Tor to build circuits through any node.<br />
<br />
    Country codes are case-insensitive. The code "{??}" refers to nodes whose
    country can&#8217;t be identified. No country code, including {??}, works if
    no GeoIPFile can be loaded. See also the GeoIPExcludeUnknown option below.
</p>
</dd>
<dt class="hdlist1">
<a id="ExcludeExitNodes"></a> <strong>ExcludeExitNodes</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of identity fingerprints, nicknames, country codes and address
    patterns of nodes to never use when picking an exit node---that is, a
    node that delivers traffic for you outside the Tor network.   Note that any
    node listed in ExcludeNodes is automatically considered to be part of this
    list too.  See also the caveats on the "ExitNodes" option below.
</p>
</dd>
<dt class="hdlist1">
<a id="GeoIPExcludeUnknown"></a> <strong>GeoIPExcludeUnknown</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    If this option is set to <em>auto</em>, then whenever any country code is set in
    ExcludeNodes or ExcludeExitNodes, all nodes with unknown country ({??} and
    possibly {A1}) are treated as excluded as well. If this option is set to
    <em>1</em>, then all unknown countries are treated as excluded in ExcludeNodes
    and ExcludeExitNodes.  This option has no effect when a GeoIP file isn&#8217;t
    configured or can&#8217;t be found.  (Default: auto)
</p>
</dd>
<dt class="hdlist1">
<a id="ExitNodes"></a> <strong>ExitNodes</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of identity fingerprints, nicknames, country codes and address
    patterns of nodes to use as exit node---that is, a
    node that delivers traffic for you outside the Tor network.<br />
<br />
    Note that if you list too few nodes here, or if you exclude too many exit
    nodes with ExcludeExitNodes, you can degrade functionality.  For example,
    if none of the exits you list allows traffic on port 80 or 443, you won&#8217;t
    be able to browse the web.<br />
<br />
    Note also that not every circuit is used to deliver traffic outside of
    the Tor network.  It is normal to see non-exit circuits (such as those
    used to connect to hidden services, those that do directory fetches,
    those used for relay reachability self-tests, and so on) that end
    at a non-exit node.  To
    keep a node from being used entirely, see ExcludeNodes and StrictNodes.<br />
<br />
    The ExcludeNodes option overrides this option: any node listed in both
    ExitNodes and ExcludeNodes is treated as excluded.<br />
<br />
    The .exit address notation, if enabled via AllowDotExit, overrides
    this option.
</p>
</dd>
<dt class="hdlist1">
<a id="EntryNodes"></a> <strong>EntryNodes</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of identity fingerprints, nicknames, and country codes of nodes
    to use for the first hop in your normal circuits.
    Normal circuits include all
    circuits except for direct connections to directory servers.  The Bridge
    option overrides this option; if you have configured bridges and
    UseBridges is 1, the Bridges are used as your entry nodes.<br />
<br />
    The ExcludeNodes option overrides this option: any node listed in both
    EntryNodes and ExcludeNodes is treated as excluded.
</p>
</dd>
<dt class="hdlist1">
<a id="StrictNodes"></a> <strong>StrictNodes</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If StrictNodes is set to 1, Tor will treat the ExcludeNodes option as a
    requirement to follow for all the circuits you generate, even if doing so
    will break functionality for you.  If StrictNodes is set to 0, Tor will
    still try to avoid nodes in the ExcludeNodes list, but it will err on the
    side of avoiding unexpected errors.  Specifically, StrictNodes 0 tells
    Tor that it is okay to use an excluded node when it is <strong>necessary</strong> to
    perform relay reachability self-tests, connect to
    a hidden service, provide a hidden service to a client, fulfill a .exit
    request, upload directory information, or download directory information.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="FascistFirewall"></a> <strong>FascistFirewall</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor will only create outgoing connections to ORs running on ports
    that your firewall allows (defaults to 80 and 443; see <strong>FirewallPorts</strong>).
    This will allow you to run Tor as a client behind a firewall with
    restrictive policies, but will not allow you to run as a server behind such
    a firewall. If you prefer more fine-grained control, use
    ReachableAddresses instead.
</p>
</dd>
<dt class="hdlist1">
<a id="FirewallPorts"></a> <strong>FirewallPorts</strong> <em>PORTS</em>
</dt>
<dd>
<p>
    A list of ports that your firewall allows you to connect to. Only used when
    <strong>FascistFirewall</strong> is set. This option is deprecated; use ReachableAddresses
    instead. (Default: 80, 443)
</p>
</dd>
<dt class="hdlist1">
<a id="ReachableAddresses"></a> <strong>ReachableAddresses</strong> <em>ADDR</em>[/<em>MASK</em>][:<em>PORT</em>]&#8230;
</dt>
<dd>
<p>
    A comma-separated list of IP addresses and ports that your firewall allows
    you to connect to. The format is as for the addresses in ExitPolicy, except
    that "accept" is understood unless "reject" is explicitly provided. For
    example, 'ReachableAddresses 99.0.0.0/8, reject 18.0.0.0/8:80, accept
    *:80' means that your firewall allows connections to everything inside net
    99, rejects port 80 connections to net 18, and accepts connections to port
    80 otherwise. (Default: 'accept *:*'.)
</p>
</dd>
<dt class="hdlist1">
<a id="ReachableDirAddresses"></a> <strong>ReachableDirAddresses</strong> <em>ADDR</em>[/<em>MASK</em>][:<em>PORT</em>]&#8230;
</dt>
<dd>
<p>
    Like <strong>ReachableAddresses</strong>, a list of addresses and ports. Tor will obey
    these restrictions when fetching directory information, using standard HTTP
    GET requests. If not set explicitly then the value of
    <strong>ReachableAddresses</strong> is used. If <strong>HTTPProxy</strong> is set then these
    connections will go through that proxy.
</p>
</dd>
<dt class="hdlist1">
<a id="ReachableORAddresses"></a> <strong>ReachableORAddresses</strong> <em>ADDR</em>[/<em>MASK</em>][:<em>PORT</em>]&#8230;
</dt>
<dd>
<p>
    Like <strong>ReachableAddresses</strong>, a list of addresses and ports. Tor will obey
    these restrictions when connecting to Onion Routers, using TLS/SSL. If not
    set explicitly then the value of <strong>ReachableAddresses</strong> is used. If
    <strong>HTTPSProxy</strong> is set then these connections will go through that proxy.<br />
<br />
    The separation between <strong>ReachableORAddresses</strong> and
    <strong>ReachableDirAddresses</strong> is only interesting when you are connecting
    through proxies (see <strong>HTTPProxy</strong> and <strong>HTTPSProxy</strong>). Most proxies limit
    TLS connections (which Tor uses to connect to Onion Routers) to port 443,
    and some limit HTTP GET requests (which Tor uses for fetching directory
    information) to port 80.
</p>
</dd>
<dt class="hdlist1">
<a id="HidServAuth"></a> <strong>HidServAuth</strong> <em>onion-address</em> <em>auth-cookie</em> [<em>service-name</em>]
</dt>
<dd>
<p>
    Client authorization for a hidden service. Valid onion addresses contain 16
    characters in a-z2-7 plus ".onion", and valid auth cookies contain 22
    characters in A-Za-z0-9+/. The service name is only used for internal
    purposes, e.g., for Tor controllers. This option may be used multiple times
    for different hidden services. If a hidden service uses authorization and
    this option is not set, the hidden service is not accessible. Hidden
    services can be configured to require authorization using the
    <strong>HiddenServiceAuthorizeClient</strong> option.
</p>
</dd>
<dt class="hdlist1">
<a id="CloseHSClientCircuitsImmediatelyOnTimeout"></a> <strong>CloseHSClientCircuitsImmediatelyOnTimeout</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor will close unfinished hidden service client circuits
    which have not moved closer to connecting to their destination
    hidden service when their internal state has not changed for the
    duration of the current circuit-build timeout.  Otherwise, such
    circuits will be left open, in the hope that they will finish
    connecting to their destination hidden services.  In either case,
    another set of introduction and rendezvous circuits for the same
    destination hidden service will be launched. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="CloseHSServiceRendCircuitsImmediatelyOnTimeout"></a> <strong>CloseHSServiceRendCircuitsImmediatelyOnTimeout</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor will close unfinished hidden-service-side rendezvous
    circuits after the current circuit-build timeout.  Otherwise, such
    circuits will be left open, in the hope that they will finish
    connecting to their destinations.  In either case, another
    rendezvous circuit for the same destination client will be
    launched. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="LongLivedPorts"></a> <strong>LongLivedPorts</strong> <em>PORTS</em>
</dt>
<dd>
<p>
    A list of ports for services that tend to have long-running connections
    (e.g. chat and interactive shells). Circuits for streams that use these
    ports will contain only high-uptime nodes, to reduce the chance that a node
    will go down before the stream is finished. Note that the list is also
    honored for circuits (both client and service side) involving hidden
    services whose virtual port is in this list. (Default: 21, 22, 706,
    1863, 5050, 5190, 5222, 5223, 6523, 6667, 6697, 8300)
</p>
</dd>
<dt class="hdlist1">
<a id="MapAddress"></a> <strong>MapAddress</strong> <em>address</em> <em>newaddress</em>
</dt>
<dd>
<p>
    When a request for address arrives to Tor, it will transform to newaddress
    before processing it. For example, if you always want connections to
    www.example.com to exit via <em>torserver</em> (where <em>torserver</em> is the
    nickname of the server), use "MapAddress www.example.com
    www.example.com.torserver.exit". If the value is prefixed with a
    "*.", matches an entire domain. For example, if you
    always want connections to example.com and any if its subdomains
    to exit via
    <em>torserver</em> (where <em>torserver</em> is the nickname of the server), use
    "MapAddress *.example.com *.example.com.torserver.exit". (Note the
    leading "*." in each part of the directive.) You can also redirect all
    subdomains of a domain to a single address. For example, "MapAddress
    *.example.com www.example.com".<br />
<br />
    NOTES:
</p>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
When evaluating MapAddress expressions Tor stops when it hits the most
    recently added expression that matches the requested address. So if you
    have the following in your torrc, www.torproject.org will map to 1.1.1.1:
</p>
<div class="literalblock">
<div class="content">
<pre><code>MapAddress www.torproject.org 2.2.2.2
MapAddress www.torproject.org 1.1.1.1</code></pre>
</div></div>
</li>
<li>
<p>
Tor evaluates the MapAddress configuration until it finds no matches. So
    if you have the following in your torrc, www.torproject.org will map to
    2.2.2.2:
</p>
<div class="literalblock">
<div class="content">
<pre><code>MapAddress 1.1.1.1 2.2.2.2
MapAddress www.torproject.org 1.1.1.1</code></pre>
</div></div>
</li>
<li>
<p>
The following MapAddress expression is invalid (and will be
    ignored) because you cannot map from a specific address to a wildcard
    address:
</p>
<div class="literalblock">
<div class="content">
<pre><code>MapAddress www.torproject.org *.torproject.org.torserver.exit</code></pre>
</div></div>
</li>
<li>
<p>
Using a wildcard to match only part of a string (as in *ample.com) is
    also invalid.
</p>
</li>
</ol></div>
</dd>
<dt class="hdlist1">
<a id="NewCircuitPeriod"></a> <strong>NewCircuitPeriod</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Every NUM seconds consider whether to build a new circuit. (Default: 30
    seconds)
</p>
</dd>
<dt class="hdlist1">
<a id="MaxCircuitDirtiness"></a> <strong>MaxCircuitDirtiness</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Feel free to reuse a circuit that was first used at most NUM seconds ago,
    but never attach a new stream to a circuit that is too old.  For hidden
    services, this applies to the <em>last</em> time a circuit was used, not the
    first.  (Default: 10 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="MaxClientCircuitsPending"></a> <strong>MaxClientCircuitsPending</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Do not allow more than NUM circuits to be pending at a time for handling
    client streams. A circuit is pending if we have begun constructing it,
    but it has not yet been completely constructed.  (Default: 32)
</p>
</dd>
<dt class="hdlist1">
<a id="NodeFamily"></a> <strong>NodeFamily</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    The Tor servers, defined by their identity fingerprints or nicknames,
    constitute a "family" of similar or co-administered servers, so never use
    any two of them in the same circuit. Defining a NodeFamily is only needed
    when a server doesn&#8217;t list the family itself (with MyFamily). This option
    can be used multiple times.  In addition to nodes, you can also list
    IP address and ranges and country codes in {curly braces}.
</p>
</dd>
<dt class="hdlist1">
<a id="EnforceDistinctSubnets"></a> <strong>EnforceDistinctSubnets</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If 1, Tor will not put two servers whose IP addresses are "too close" on
    the same circuit. Currently, two addresses are "too close" if they lie in
    the same /16 range. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="SOCKSPort"></a> <strong>SOCKSPort</strong> [<em>address</em>:]<em>port</em>|<strong>auto</strong> [<em>flags</em>] [<em>isolation flags</em>]
</dt>
<dd>
<p>
    Open this port to listen for connections from SOCKS-speaking
    applications. Set this to 0 if you don&#8217;t want to allow application
    connections via SOCKS. Set it to "auto" to have Tor pick a port for
    you. This directive can be specified multiple times to bind
    to multiple addresses/ports. (Default: 9050)<br />
<br />
    The <em>isolation flags</em> arguments give Tor rules for which streams
    received on this SOCKSPort are allowed to share circuits with one
    another.  Recognized isolation flags are:
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>IsolateClientAddr</strong>
</dt>
<dd>
<p>
        Don&#8217;t share circuits with streams from a different
        client address.  (On by default and strongly recommended;
        you can disable it with <strong>NoIsolateClientAddr</strong>.)
</p>
</dd>
<dt class="hdlist1">
<strong>IsolateSOCKSAuth</strong>
</dt>
<dd>
<p>
        Don&#8217;t share circuits with streams for which different
        SOCKS authentication was provided. (On by default;
        you can disable it with <strong>NoIsolateSOCKSAuth</strong>.)
</p>
</dd>
<dt class="hdlist1">
<strong>IsolateClientProtocol</strong>
</dt>
<dd>
<p>
        Don&#8217;t share circuits with streams using a different protocol.
        (SOCKS 4, SOCKS 5, TransPort connections, NATDPort connections,
        and DNSPort requests are all considered to be different protocols.)
</p>
</dd>
<dt class="hdlist1">
<strong>IsolateDestPort</strong>
</dt>
<dd>
<p>
        Don&#8217;t share circuits with streams targetting a different
        destination port.
</p>
</dd>
<dt class="hdlist1">
<strong>IsolateDestAddr</strong>
</dt>
<dd>
<p>
        Don&#8217;t share circuits with streams targetting a different
        destination address.
</p>
</dd>
<dt class="hdlist1">
<strong>SessionGroup=</strong><em>INT</em>
</dt>
<dd>
<p>
        If no other isolation rules would prevent it, allow streams
        on this port to share circuits with streams from every other
        port with the same session group.  (By default, streams received
        on different SOCKSPorts, TransPorts, etc are always isolated from one
        another. This option overrides that behavior.)
</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<a id="OtherSOCKSPortFlags"></a>
</dt>
<dd>
<p>
    Other recognized <em>flags</em> for a SOCKSPort are:
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>NoIPv4Traffic</strong>
</dt>
<dd>
<p>
        Tell exits to not connect to IPv4 addresses in response to SOCKS
        requests on this connection.
</p>
</dd>
<dt class="hdlist1">
<strong>IPv6Traffic</strong>
</dt>
<dd>
<p>
        Tell exits to allow IPv6 addresses in response to SOCKS requests on
        this connection, so long as SOCKS5 is in use.  (SOCKS4 can&#8217;t handle
        IPv6.)
</p>
</dd>
<dt class="hdlist1">
<strong>PreferIPv6</strong>
</dt>
<dd>
<p>
        Tells exits that, if a host has both an IPv4 and an IPv6 address,
        we would prefer to connect to it via IPv6. (IPv4 is the default.)<br />
<br />
        NOTE: Although this option allows you to specify an IP address
        other than localhost, you should do so only with extreme caution.
        The SOCKS protocol is unencrypted and (as we use it)
        unauthenticated, so exposing it in this way could leak your
        information to anybody watching your network, and allow anybody
        to use your computer as an open proxy.<br />
<br />
</p>
</dd>
<dt class="hdlist1">
<strong>CacheIPv4DNS</strong>
</dt>
<dd>
<p>
        Tells the client to remember IPv4 DNS answers we receive from exit
        nodes via this connection. (On by default.)
</p>
</dd>
<dt class="hdlist1">
<strong>CacheIPv6DNS</strong>
</dt>
<dd>
<p>
        Tells the client to remember IPv6 DNS answers we receive from exit
        nodes via this connection.
</p>
</dd>
<dt class="hdlist1">
<strong>CacheDNS</strong>
</dt>
<dd>
<p>
        Tells the client to remember all DNS answers we receive from exit
        nodes via this connection.
</p>
</dd>
<dt class="hdlist1">
<strong>UseIPv4Cache</strong>
</dt>
<dd>
<p>
        Tells the client to use any cached IPv4 DNS answers we have when making
        requests via this connection. (NOTE: This option, along UseIPv6Cache
        and UseDNSCache, can harm your anonymity, and probably
        won&#8217;t help performance as much as you might expect. Use with care!)
</p>
</dd>
<dt class="hdlist1">
<strong>UseIPv6Cache</strong>
</dt>
<dd>
<p>
        Tells the client to use any cached IPv6 DNS answers we have when making
        requests via this connection.
</p>
</dd>
<dt class="hdlist1">
<strong>UseDNSCache</strong>
</dt>
<dd>
<p>
        Tells the client to use any cached DNS answers we have when making
        requests via this connection.
</p>
</dd>
<dt class="hdlist1">
<strong>PreferIPv6Automap</strong>
</dt>
<dd>
<p>
        When serving a hostname lookup request on this port that
        should get automapped (according to AutomapHostsOnResove),
        if we could return either an IPv4 or an IPv6 answer, prefer
        an IPv6 answer. (On by default.)
</p>
</dd>
<dt class="hdlist1">
<strong>PreferSOCKSNoAuth</strong>
</dt>
<dd>
<p>
        Ordinarily, when an application offers both "username/password
        authentication" and "no authentication" to Tor via SOCKS5, Tor
        selects username/password authentication so that IsolateSOCKSAuth can
        work.  This can confuse some applications, if they offer a
        username/password combination then get confused when asked for
        one. You can disable this behavior, so that Tor will select "No
        authentication" when IsolateSOCKSAuth is disabled, or when this
        option is set.
</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<a id="SOCKSListenAddress"></a> <strong>SOCKSListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind to this address to listen for connections from Socks-speaking
    applications. (Default: 127.0.0.1) You can also specify a port (e.g.
    192.168.0.1:9100). This directive can be specified multiple times to bind
    to multiple addresses/ports.  (DEPRECATED: As of 0.2.3.x-alpha, you can
    now use multiple SOCKSPort entries, and provide addresses for SOCKSPort
    entries, so SOCKSListenAddress no longer has a purpose.  For backward
    compatibility, SOCKSListenAddress is only allowed when SOCKSPort is just
    a port number.)
</p>
</dd>
<dt class="hdlist1">
<a id="SocksPolicy"></a> <strong>SocksPolicy</strong> <em>policy</em>,<em>policy</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Set an entrance policy for this server, to limit who can connect to the
    SocksPort and DNSPort ports. The policies have the same form as exit
    policies below, except that port specifiers are ignored. Any address
    not matched by some entry in the policy is accepted.
</p>
</dd>
<dt class="hdlist1">
<a id="SocksTimeout"></a> <strong>SocksTimeout</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Let a socks connection wait NUM seconds handshaking, and NUM seconds
    unattached waiting for an appropriate circuit, before we fail it. (Default:
    2 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TokenBucketRefillInterval"></a> <strong>TokenBucketRefillInterval</strong> <em>NUM</em> [<strong>msec</strong>|<strong>second</strong>]
</dt>
<dd>
<p>
    Set the refill interval of Tor&#8217;s token bucket to NUM milliseconds.
    NUM must be between 1 and 1000, inclusive.  Note that the configured
    bandwidth limits are still expressed in bytes per second: this
    option only affects the frequency with which Tor checks to see whether
    previously exhausted connections may read again. (Default: 100 msec)
</p>
</dd>
<dt class="hdlist1">
<a id="TrackHostExits"></a> <strong>TrackHostExits</strong> <em>host</em>,<em>.domain</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    For each value in the comma separated list, Tor will track recent
    connections to hosts that match this value and attempt to reuse the same
    exit node for each. If the value is prepended with a '.', it is treated as
    matching an entire domain. If one of the values is just a '.', it means
    match everything. This option is useful if you frequently connect to sites
    that will expire all your authentication cookies (i.e. log you out) if
    your IP address changes. Note that this option does have the disadvantage
    of making it more clear that a given history is associated with a single
    user. However, most people who would wish to observe this will observe it
    through cookies or other protocol-specific means anyhow.
</p>
</dd>
<dt class="hdlist1">
<a id="TrackHostExitsExpire"></a> <strong>TrackHostExitsExpire</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Since exit servers go up and down, it is desirable to expire the
    association between host and exit server after NUM seconds. The default is
    1800 seconds (30 minutes).
</p>
</dd>
<dt class="hdlist1">
<a id="UpdateBridgesFromAuthority"></a> <strong>UpdateBridgesFromAuthority</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When set (along with UseBridges), Tor will try to fetch bridge descriptors
    from the configured bridge authorities when feasible. It will fall back to
    a direct request if the authority responds with a 404. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="UseBridges"></a> <strong>UseBridges</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When set, Tor will fetch descriptors for each bridge listed in the "Bridge"
    config lines, and use these relays as both entry guards and directory
    guards. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="UseEntryGuards"></a> <strong>UseEntryGuards</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, we pick a few long-term entry servers, and try
    to stick with them. This is desirable because constantly changing servers
    increases the odds that an adversary who owns some servers will observe a
    fraction of your paths. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="UseEntryGuardsAsDirGuards"></a> <strong>UseEntryGuardsAsDirGuards</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, and UseEntryGuards is also set to 1,
    we try to use our entry guards as directory
    guards, and failing that, pick more nodes to act as our directory guards.
    This helps prevent an adversary from enumerating clients. It&#8217;s only
    available for clients (non-relay, non-bridge) that aren&#8217;t configured to
    download any non-default directory material.  It doesn&#8217;t currently
    do anything when we lack a live consensus. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="NumEntryGuards"></a> <strong>NumEntryGuards</strong> <em>NUM</em>
</dt>
<dd>
<p>
    If UseEntryGuards is set to 1, we will try to pick a total of NUM routers
    as long-term entries for our circuits. If NUM is 0, we try to learn
    the number from the NumEntryGuards consensus parameter, and default
    to 3 if the consensus parameter isn&#8217;t set. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="NumDirectoryGuards"></a> <strong>NumDirectoryGuards</strong> <em>NUM</em>
</dt>
<dd>
<p>
    If UseEntryGuardsAsDirectoryGuards is enabled, we try to make sure we
    have at least NUM routers to use as directory guards. If this option
    is set to 0, use the value from the NumDirectoryGuards consensus
    parameter, falling back to the value from NumEntryGuards if the
    consensus parameter is 0 or isn&#8217;t set. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="GuardLifetime"></a> <strong>GuardLifetime</strong>  <em>N</em> <strong>days</strong>|<strong>weeks</strong>|<strong>months</strong>
</dt>
<dd>
<p>
    If nonzero, and UseEntryGuards is set, minimum time to keep a guard before
    picking a new one. If zero, we use the GuardLifetime parameter from the
    consensus directory.  No value here may  be less than 1 month or greater
    than 5 years; out-of-range values are clamped. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="SafeSocks"></a> <strong>SafeSocks</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor will reject application connections that
    use unsafe variants of the socks protocol&#8201;&#8212;&#8201;ones that only provide an IP
    address, meaning the application is doing a DNS resolve first.
    Specifically, these are socks4 and socks5 when not doing remote DNS.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TestSocks"></a> <strong>TestSocks</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor will make a notice-level log entry for
    each connection to the Socks port indicating whether the request used a
    safe socks protocol or an unsafe one (see above entry on SafeSocks). This
    helps to determine whether an application using Tor is possibly leaking
    DNS requests. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="WarnUnsafeSocks"></a> <strong>WarnUnsafeSocks</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor will warn whenever a request is
    received that only contains an IP address instead of a hostname. Allowing
    applications to do DNS resolves themselves is usually a bad idea and
    can leak your location to attackers. (Default: 1)
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="VirtualAddrNetworkIPv4"></a> <strong>VirtualAddrNetworkIPv4</strong> <em>Address</em>/<em>bits</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="VirtualAddrNetworkIPv6"></a> <strong>VirtualAddrNetworkIPv6</strong> [<em>Address</em>]/<em>bits</em>
</dt>
<dd>
<p>
    When Tor needs to assign a virtual (unused) address because of a MAPADDRESS
    command from the controller or the AutomapHostsOnResolve feature, Tor
    picks an unassigned address from this range. (Defaults:
    127.192.0.0/10 and [FE80::]/10 respectively.)<br />
<br />
    When providing proxy server service to a network of computers using a tool
    like dns-proxy-tor, change the IPv4 network to "10.192.0.0/10" or
    "172.16.0.0/12" and change the IPv6 network to "[FC00]/7".
    The default <strong>VirtualAddrNetwork</strong> address ranges on a
    properly configured machine will route to the loopback or link-local
    interface. For
    local use, no change to the default VirtualAddrNetwork setting is needed.
</p>
</dd>
<dt class="hdlist1">
<a id="AllowNonRFC953Hostnames"></a> <strong>AllowNonRFC953Hostnames</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is disabled, Tor blocks hostnames containing illegal
    characters (like @ and :) rather than sending them to an exit node to be
    resolved. This helps trap accidental attempts to resolve URLs and so on.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AllowDotExit"></a> <strong>AllowDotExit</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If enabled, we convert "www.google.com.foo.exit" addresses on the
    SocksPort/TransPort/NATDPort into "www.google.com" addresses that exit from
    the node "foo". Disabled by default since attacking websites and exit
    relays can use it to manipulate your path selection. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="FastFirstHopPK"></a> <strong>FastFirstHopPK</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    When this option is disabled, Tor uses the public key step for the first
    hop of creating circuits. Skipping it is generally safe since we have
    already used TLS to authenticate the relay and to establish forward-secure
    keys. Turning this option off makes circuit building a little
    slower. Setting this option to "auto" takes advice from the authorities
    in the latest consensus about whether to use this feature. <br />
<br />
    Note that Tor will always use the public key step for the first hop if it&#8217;s
    operating as a relay, and it will never use the public key step if it
    doesn&#8217;t yet know the onion key of the first hop. (Default: auto)
</p>
</dd>
<dt class="hdlist1">
<a id="TransPort"></a> <strong>TransPort</strong>  [<em>address</em>:]<em>port</em>|<strong>auto</strong> [<em>isolation flags</em>]
</dt>
<dd>
<p>
    Open this port to listen for transparent proxy connections.  Set this to
    0 if you don&#8217;t want to allow transparent proxy connections.  Set the port
    to "auto" to have Tor pick a port for you. This directive can be
    specified multiple times to bind to multiple addresses/ports.  See
    SOCKSPort for an explanation of isolation flags.<br />
<br />
    TransPort requires OS support for transparent proxies, such as BSDs' pf or
    Linux&#8217;s IPTables. If you&#8217;re planning to use Tor as a transparent proxy for
    a network, you&#8217;ll want to examine and change VirtualAddrNetwork from the
    default setting. You&#8217;ll also want to set the TransListenAddress option for
    the network you&#8217;d like to proxy. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TransListenAddress"></a> <strong>TransListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind to this address to listen for transparent proxy connections. (Default:
    127.0.0.1). This is useful for exporting a transparent proxy server to an
    entire network. (DEPRECATED: As of 0.2.3.x-alpha, you can
    now use multiple TransPort entries, and provide addresses for TransPort
    entries, so TransListenAddress no longer has a purpose.  For backward
    compatibility, TransListenAddress is only allowed when TransPort is just
    a port number.)
</p>
</dd>
<dt class="hdlist1">
<a id="TransProxyType"></a> <strong>TransProxyType</strong> <strong>default</strong>|<strong>TPROXY</strong>|<strong>ipfw</strong>|<strong>pf-divert</strong>
</dt>
<dd>
<p>
    TransProxyType may only be enabled when there is transparent proxy listener
    enabled.
<br />
    Set this to "TPROXY" if you wish to be able to use the TPROXY Linux module
    to transparently proxy connections that are configured using the TransPort
    option. This setting lets the listener on the TransPort accept connections
    for all addresses, even when the TransListenAddress is configured for an
    internal address. Detailed information on how to configure the TPROXY
    feature can be found in the Linux kernel source tree in the file
    Documentation/networking/tproxy.txt.
<br />
    Set this option to "ipfw" to use the FreeBSD ipfw interface.
<br />
    On *BSD operating systems when using pf, set this to "pf-divert" to take
    advantage of <code>divert-to</code> rules, which do not modify the packets like
    <code>rdr-to</code> rules do. Detailed information on how to configure pf to use
    <code>divert-to</code> rules can be found in the pf.conf(5) manual page. On OpenBSD,
    <code>divert-to</code> is available to use on versions greater than or equal to
    OpenBSD 4.4.
<br />
    Set this to "default", or leave it unconfigured, to use regular IPTables
    on Linux, or to use pf <code>rdr-to</code> rules on *BSD systems.
<br />
    (Default: "default".)
</p>
</dd>
<dt class="hdlist1">
<a id="NATDPort"></a> <strong>NATDPort</strong> [<em>address</em>:]<em>port</em>|<strong>auto</strong> [<em>isolation flags</em>]
</dt>
<dd>
<p>
    Open this port to listen for connections from old versions of ipfw (as
    included in old versions of FreeBSD, etc) using the NATD protocol.
    Use 0 if you don&#8217;t want to allow NATD connections.  Set the port
    to "auto" to have Tor pick a port for you. This directive can be
    specified multiple times to bind to multiple addresses/ports.  See
    SOCKSPort for an explanation of isolation flags.<br />
<br />
    This option is only for people who cannot use TransPort. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="NATDListenAddress"></a> <strong>NATDListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind to this address to listen for NATD connections. (DEPRECATED: As of
    0.2.3.x-alpha, you can now use multiple NATDPort entries, and provide
    addresses for NATDPort entries, so NATDListenAddress no longer has a
    purpose.  For backward compatibility, NATDListenAddress is only allowed
    when NATDPort is just a port number.)
</p>
</dd>
<dt class="hdlist1">
<a id="AutomapHostsOnResolve"></a> <strong>AutomapHostsOnResolve</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, and we get a request to resolve an address
    that ends with one of the suffixes in <strong>AutomapHostsSuffixes</strong>, we map an
    unused virtual address to that address, and return the new virtual address.
    This is handy for making ".onion" addresses work with applications that
    resolve an address and then connect to it. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AutomapHostsSuffixes"></a> <strong>AutomapHostsSuffixes</strong> <em>SUFFIX</em>,<em>SUFFIX</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A comma-separated list of suffixes to use with <strong>AutomapHostsOnResolve</strong>.
    The "." suffix is equivalent to "all addresses." (Default: .exit,.onion).
</p>
</dd>
<dt class="hdlist1">
<a id="DNSPort"></a> <strong>DNSPort</strong> [<em>address</em>:]<em>port</em>|<strong>auto</strong> [<em>isolation flags</em>]
</dt>
<dd>
<p>
    If non-zero, open this port to listen for UDP DNS requests, and resolve
    them anonymously.  This port only handles A, AAAA, and PTR requests---it
    doesn&#8217;t handle arbitrary DNS request types. Set the port to "auto" to
    have Tor pick a port for
    you. This directive can be specified multiple times to bind to multiple
    addresses/ports. See SOCKSPort for an explanation of isolation
    flags. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="DNSListenAddress"></a> <strong>DNSListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind to this address to listen for DNS connections. (DEPRECATED: As of
    0.2.3.x-alpha, you can now use multiple DNSPort entries, and provide
    addresses for DNSPort entries, so DNSListenAddress no longer has a
    purpose.  For backward compatibility, DNSListenAddress is only allowed
    when DNSPort is just a port number.)
</p>
</dd>
<dt class="hdlist1">
<a id="ClientDNSRejectInternalAddresses"></a> <strong>ClientDNSRejectInternalAddresses</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If true, Tor does not believe any anonymously retrieved DNS answer that
    tells it that an address resolves to an internal address (like 127.0.0.1 or
    192.168.0.1). This option prevents certain browser-based attacks; don&#8217;t
    turn it off unless you know what you&#8217;re doing. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="ClientRejectInternalAddresses"></a> <strong>ClientRejectInternalAddresses</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If true, Tor does not try to fulfill requests to connect to an internal
    address (like 127.0.0.1 or 192.168.0.1) <em>unless a exit node is
    specifically requested</em> (for example, via a .exit hostname, or a
    controller request).  (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="DownloadExtraInfo"></a> <strong>DownloadExtraInfo</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If true, Tor downloads and caches "extra-info" documents. These documents
    contain information about servers other than the information in their
    regular router descriptors. Tor does not use this information for anything
    itself; to save bandwidth, leave this option turned off. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="WarnPlaintextPorts"></a> <strong>WarnPlaintextPorts</strong> <em>port</em>,<em>port</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Tells Tor to issue a warnings whenever the user tries to make an anonymous
    connection to one of these ports. This option is designed to alert users
    to services that risk sending passwords in the clear. (Default:
    23,109,110,143)
</p>
</dd>
<dt class="hdlist1">
<a id="RejectPlaintextPorts"></a> <strong>RejectPlaintextPorts</strong> <em>port</em>,<em>port</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Like WarnPlaintextPorts, but instead of warning about risky port uses, Tor
    will instead refuse to make the connection. (Default: None)
</p>
</dd>
<dt class="hdlist1">
<a id="AllowSingleHopCircuits"></a> <strong>AllowSingleHopCircuits</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set, the attached Tor controller can use relays
    that have the <strong>AllowSingleHopExits</strong> option turned on to build
    one-hop Tor connections.  (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="OptimisticData"></a> <strong>OptimisticData</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    When this option is set, and Tor is using an exit node that supports
    the feature, it will try optimistically to send data to the exit node
    without waiting for the exit node to report whether the connection
    succeeded.  This can save a round-trip time for protocols like HTTP
    where the client talks first.  If OptimisticData is set to <strong>auto</strong>,
    Tor will look at the UseOptimisticData parameter in the networkstatus.
    (Default: auto)
</p>
</dd>
<dt class="hdlist1">
<a id="Tor2webMode"></a> <strong>Tor2webMode</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set, Tor connects to hidden services
    <strong>non-anonymously</strong>.  This option also disables client connections to
    non-hidden-service hostnames through Tor. It <strong>must only</strong> be used when
    running a tor2web Hidden Service web proxy.
    To enable this option the compile time flag --enable-tor2webmode must be
    specified. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="UseMicrodescriptors"></a> <strong>UseMicrodescriptors</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    Microdescriptors are a smaller version of the information that Tor needs
    in order to build its circuits.  Using microdescriptors makes Tor clients
    download less directory information, thus saving bandwidth.  Directory
    caches need to fetch regular descriptors and microdescriptors, so this
    option doesn&#8217;t save any bandwidth for them.  If this option is set to
    "auto" (recommended) then it is on for all clients that do not set
    FetchUselessDescriptors. (Default: auto)
</p>
</dd>
<dt class="hdlist1">
<a id="UseNTorHandshake"></a> <strong>UseNTorHandshake</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    The "ntor" circuit-creation handshake is faster and (we think) more
    secure than the original ("TAP") circuit handshake, but starting to use
    it too early might make your client stand out. If this option is 0, your
    Tor client won&#8217;t use the ntor handshake. If it&#8217;s 1, your Tor client
    will use the ntor handshake to extend circuits through servers that
    support it. If this option is "auto", then your client
    will use the ntor handshake once enough directory authorities recommend
    it. (Default: 1)
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="PathBiasCircThreshold"></a> <strong>PathBiasCircThreshold</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasNoticeRate"></a> <strong>PathBiasNoticeRate</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasWarnRate"></a> <strong>PathBiasWarnRate</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasExtremeRate"></a> <strong>PathBiasExtremeRate</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasDropGuards"></a> <strong>PathBiasDropGuards</strong> <em>NUM</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="PathBiasScaleThreshold"></a> <strong>PathBiasScaleThreshold</strong> <em>NUM</em>
</dt>
<dd>
<p>
    These options override the default behavior of Tor&#8217;s (<strong>currently
    experimental</strong>) path bias detection algorithm. To try to find broken or
    misbehaving guard nodes, Tor looks for nodes where more than a certain
    fraction of circuits through that guard fail to get built.
<br />
    The PathBiasCircThreshold option controls how many circuits we need to build
    through a guard before we make these checks.  The PathBiasNoticeRate,
    PathBiasWarnRate and PathBiasExtremeRate options control what fraction of
    circuits must succeed through a guard so we won&#8217;t write log messages.
    If less than PathBiasExtremeRate circuits succeed <strong>and</strong> PathBiasDropGuards
    is set to 1, we disable use of that guard.<br />
<br />
    When we have seen more than PathBiasScaleThreshold
    circuits through a guard, we scale our observations by 0.5 (governed by
    the consensus) so that new observations don&#8217;t get swamped by old ones.<br />
<br />
    By default, or if a negative value is provided for one of these options,
    Tor uses reasonable defaults from the networkstatus consensus document.
    If no defaults are available there, these options default to 150, .70,
    .50, .30, 0, and 300 respectively.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="PathBiasUseThreshold"></a> <strong>PathBiasUseThreshold</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasNoticeUseRate"></a> <strong>PathBiasNoticeUseRate</strong> <em>NUM</em><br /></p></div>
<div class="paragraph"><p><a id="PathBiasExtremeUseRate"></a> <strong>PathBiasExtremeUseRate</strong> <em>NUM</em><br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="PathBiasScaleUseThreshold"></a> <strong>PathBiasScaleUseThreshold</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Similar to the above options, these options override the default behavior
    of Tor&#8217;s (<strong>currently experimental</strong>) path use bias detection algorithm.
<br />
    Where as the path bias parameters govern thresholds for successfully
    building circuits, these four path use bias parameters govern thresholds
    only for circuit usage. Circuits which receive no stream usage
    are not counted by this detection algorithm. A used circuit is considered
    successful if it is capable of carrying streams or otherwise receiving
    well-formed responses to RELAY cells.
<br />
    By default, or if a negative value is provided for one of these options,
    Tor uses reasonable defaults from the networkstatus consensus document.
    If no defaults are available there, these options default to 20, .80,
    .60, and 100, respectively.
</p>
</dd>
<dt class="hdlist1">
<a id="ClientUseIPv6"></a> <strong>ClientUseIPv6</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, Tor might connect to entry nodes over
    IPv6. Note that clients configured with an IPv6 address in a
    <strong>Bridge</strong> line will try connecting over IPv6 even if
    <strong>ClientUseIPv6</strong> is set to 0. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ClientPreferIPv6ORPort"></a> <strong>ClientPreferIPv6ORPort</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set to 1, Tor prefers an OR port with an IPv6
    address over one with IPv4 if a given entry node has both. Other
    things may influence the choice. This option breaks a tie to the
    favor of IPv6. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="PathsNeededToBuildCircuits"></a> <strong>PathsNeededToBuildCircuits</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Tor clients don&#8217;t build circuits for user traffic until they know
    about enough of the network so that they could potentially construct
    enough of the possible paths through the network. If this option
    is set to a fraction between 0.25 and 0.95, Tor won&#8217;t build circuits
    until it has enough descriptors or microdescriptors to construct
    that fraction of possible paths. Note that setting this option too low
    can make your Tor client less anonymous, and setting it too high can
    prevent your Tor client from bootstrapping.  If this option is negative,
    Tor will use a default value chosen by the directory
    authorities. (Default: -1.)
</p>
</dd>
<dt class="hdlist1">
<a id="Support022HiddenServices"></a> <strong>Support022HiddenServices</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    Tor hidden services running versions before 0.2.3.x required clients to
    send timestamps, which can potentially be used to distinguish clients
    whose view of the current time is skewed. If this option is set to 0, we
    do not send this timestamp, and hidden services on obsolete Tor versions
    will not work.  If this option is set to 1, we send the timestamp.  If
    this optoin is "auto", we take a recommendation from the latest consensus
    document. (Default: auto)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_server_options">SERVER OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options are useful only for servers (that is, if ORPort
is non-zero):</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Address"></a> <strong>Address</strong> <em>address</em>
</dt>
<dd>
<p>
    The IP address or fully qualified domain name of this server (e.g.
    moria.mit.edu). You can leave this unset, and Tor will guess your IP
    address.  This IP address is the one used to tell clients and other
    servers where to find your Tor server; it doesn&#8217;t affect the IP that your
    Tor client binds to.  To bind to a different address, use the
    *ListenAddress and OutboundBindAddress options.
</p>
</dd>
<dt class="hdlist1">
<a id="AllowSingleHopExits"></a> <strong>AllowSingleHopExits</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    This option controls whether clients can use this server as a single hop
    proxy. If set to 1, clients can use this server as an exit even if it is
    the only hop in the circuit.  Note that most clients will refuse to use
    servers that set this option, since most clients have
    ExcludeSingleHopRelays set.  (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AssumeReachable"></a> <strong>AssumeReachable</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    This option is used when bootstrapping a new Tor network. If set to 1,
    don&#8217;t do self-reachability testing; just upload your server descriptor
    immediately. If <strong>AuthoritativeDirectory</strong> is also set, this option
    instructs the dirserver to bypass remote reachability testing too and list
    all connected servers as running.
</p>
</dd>
<dt class="hdlist1">
<a id="BridgeRelay"></a> <strong>BridgeRelay</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Sets the relay to act as a "bridge" with respect to relaying connections
    from bridge users to the Tor network. It mainly causes Tor to publish a
    server descriptor to the bridge database, rather than publishing a relay
    descriptor to the public directory authorities.
</p>
</dd>
<dt class="hdlist1">
<a id="ContactInfo"></a> <strong>ContactInfo</strong> <em>email_address</em>
</dt>
<dd>
<p>
    Administrative contact information for this relay or bridge. This line
    can be used to contact you if your relay or bridge is misconfigured or
    something else goes wrong. Note that we archive and publish all
    descriptors containing these lines and that Google indexes them, so
    spammers might also collect them. You may want to obscure the fact
    that it&#8217;s an email address and/or generate a new address for this
    purpose.
</p>
</dd>
<dt class="hdlist1">
<a id="ExitPolicy"></a> <strong>ExitPolicy</strong> <em>policy</em>,<em>policy</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Set an exit policy for this server. Each policy is of the form
    "<strong>accept</strong>|<strong>reject</strong> <em>ADDR</em>[/<em>MASK</em>][:<em>PORT</em>]". If /<em>MASK</em> is
    omitted then this policy just applies to the host given. Instead of giving
    a host or network you can also use "*" to denote the universe (0.0.0.0/0).
    <em>PORT</em> can be a single port number, an interval of ports
    "<em>FROM_PORT</em>-<em>TO_PORT</em>", or "*". If <em>PORT</em> is omitted, that means
    "*".<br />
<br />
    For example, "accept 18.7.22.69:*,reject 18.0.0.0/8:*,accept *:*" would
    reject any traffic destined for MIT except for web.mit.edu, and accept
    anything else.<br />
<br />
    To specify all internal and link-local networks (including 0.0.0.0/8,
    169.254.0.0/16,    127.0.0.0/8,    192.168.0.0/16, 10.0.0.0/8, and
    172.16.0.0/12), you can use the "private" alias instead of an address.
    These addresses are rejected by default (at the beginning of your exit
    policy), along with your public IP address, unless you set the
    ExitPolicyRejectPrivate config option to 0. For example, once you&#8217;ve done
    that, you could allow HTTP to 127.0.0.1 and block all other connections to
    internal networks with "accept 127.0.0.1:80,reject private:*", though that
    may also allow connections to your own computer that are addressed to its
    public (external) IP address. See RFC 1918 and RFC 3330 for more details
    about internal and reserved IP address space.<br />
<br />
    Tor also allow IPv6 exit policy entries. For instance, "reject6 [FC00::]/7:*"
    rejects all destinations that share 7 most significant bit prefix with
    address FC00::. Respectively, "accept6 [C000::]/3:*" accepts all destinations
    that share 3 most significant bit prefix with address C000::.<br />
<br />
    This directive can be specified multiple times so you don&#8217;t have to put it
    all on one line.<br />
<br />
    Policies are considered first to last, and the first match wins. If you
    want to _replace_ the default exit policy, end your exit policy with
    either a reject *:* or an accept *:*. Otherwise, you&#8217;re _augmenting_
    (prepending to) the default exit policy. The default exit policy is:<br />
</p>
<div class="literalblock">
<div class="content">
<pre><code>reject *:25
reject *:119
reject *:135-139
reject *:445
reject *:563
reject *:1214
reject *:4661-4666
reject *:6346-6429
reject *:6699
reject *:6881-6999
accept *:*</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="ExitPolicyRejectPrivate"></a> <strong>ExitPolicyRejectPrivate</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Reject all private (local) networks, along with your own public IP address,
    at the beginning of your exit policy. See above entry on ExitPolicy.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="IPv6Exit"></a> <strong>IPv6Exit</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set, and we are an exit node, allow clients to use us for IPv6
    traffic. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="MaxOnionQueueDelay"></a> <strong>MaxOnionQueueDelay</strong> <em>NUM</em> [<strong>msec</strong>|<strong>second</strong>]
</dt>
<dd>
<p>
    If we have more onionskins queued for processing than we can process in
    this amount of time, reject new ones. (Default: 1750 msec)
</p>
</dd>
<dt class="hdlist1">
<a id="MyFamily"></a> <strong>MyFamily</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Declare that this Tor server is controlled or administered by a group or
    organization identical or similar to that of the other servers, defined by
    their identity fingerprints or nicknames. When two servers both declare
    that they are in the same 'family', Tor clients will not use them in the
    same circuit. (Each server only needs to list the other servers in its
    family; it doesn&#8217;t need to list itself, but it won&#8217;t hurt.) Do not list
    any bridge relay as it would compromise its concealment.
<br />
    When listing a node, it&#8217;s better to list it by fingerprint than by
    nickname: fingerprints are more reliable.
</p>
</dd>
<dt class="hdlist1">
<a id="Nickname"></a> <strong>Nickname</strong> <em>name</em>
</dt>
<dd>
<p>
    Set the server&#8217;s nickname to 'name'. Nicknames must be between 1 and 19
    characters inclusive, and must contain only the characters [a-zA-Z0-9].
</p>
</dd>
<dt class="hdlist1">
<a id="NumCPUs"></a> <strong>NumCPUs</strong> <em>num</em>
</dt>
<dd>
<p>
    How many processes to use at once for decrypting onionskins and other
    parallelizable operations.  If this is set to 0, Tor will try to detect
    how many CPUs you have, defaulting to 1 if it can&#8217;t tell.  (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ORPort"></a> <strong>ORPort</strong> [<em>address</em>:]<em>PORT</em>|<strong>auto</strong> [<em>flags</em>]
</dt>
<dd>
<p>
    Advertise this port to listen for connections from Tor clients and
    servers.  This option is required to be a Tor server.
    Set it to "auto" to have Tor pick a port for you. Set it to 0 to not
    run an ORPort at all. This option can occur more than once. (Default: 0)
</p>
<div class="literalblock">
<div class="content">
<pre><code>Tor recognizes these flags on each ORPort:
**NoAdvertise**::
    By default, we bind to a port and tell our users about it. If
    NoAdvertise is specified, we don't advertise, but listen anyway.  This
    can be useful if the port everybody will be connecting to (for
    example, one that's opened on our firewall) is somewhere else.
**NoListen**::
    By default, we bind to a port and tell our users about it. If
    NoListen is specified, we don't bind, but advertise anyway.  This
    can be useful if something else  (for example, a firewall's port
    forwarding configuration) is causing connections to reach us.
**IPv4Only**::
    If the address is absent, or resolves to both an IPv4 and an IPv6
    address, only listen to the IPv4 address.
**IPv6Only**::
    If the address is absent, or resolves to both an IPv4 and an IPv6
    address, only listen to the IPv6 address.</code></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><code>For obvious reasons, NoAdvertise and NoListen are mutually exclusive, and
IPv4Only and IPv6Only are mutually exclusive.</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="ORListenAddress"></a> <strong>ORListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind to this IP address to listen for connections from Tor clients and
    servers. If you specify a port, bind to this port rather than the one
    specified in ORPort. (Default: 0.0.0.0) This directive can be specified
    multiple times to bind to multiple addresses/ports.
</p>
<div class="literalblock">
<div class="content">
<pre><code>This option is deprecated; you can get the same behavior with ORPort now
that it supports NoAdvertise and explicit addresses.</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="PortForwarding"></a> <strong>PortForwarding</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Attempt to automatically forward the DirPort and ORPort on a NAT router
    connecting this Tor server to the Internet. If set, Tor will try both
    NAT-PMP (common on Apple routers) and UPnP (common on routers from other
    manufacturers). (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="PortForwardingHelper"></a> <strong>PortForwardingHelper</strong> <em>filename</em>|<em>pathname</em>
</dt>
<dd>
<p>
    If PortForwarding is set, use this executable to configure the forwarding.
    If set to a filename, the system path will be searched for the executable.
    If set to a path, only the specified path will be executed.
    (Default: tor-fw-helper)
</p>
</dd>
<dt class="hdlist1">
<a id="PublishServerDescriptor"></a> <strong>PublishServerDescriptor</strong> <strong>0</strong>|<strong>1</strong>|<strong>v3</strong>|<strong>bridge</strong>,<strong>&#8230;</strong>
</dt>
<dd>
<p>
    This option specifies which descriptors Tor will publish when acting as
    a relay. You can
    choose multiple arguments, separated by commas.
<br />
    If this option is set to 0, Tor will not publish its
    descriptors to any directories. (This is useful if you&#8217;re testing
    out your server, or if you&#8217;re using a Tor controller that handles directory
    publishing for you.) Otherwise, Tor will publish its descriptors of all
    type(s) specified. The default is "1",
    which means "if running as a server, publish the
    appropriate descriptors to the authorities".
</p>
</dd>
<dt class="hdlist1">
<a id="ShutdownWaitLength"></a> <strong>ShutdownWaitLength</strong> <em>NUM</em>
</dt>
<dd>
<p>
    When we get a SIGINT and we&#8217;re a server, we begin shutting down:
    we close listeners and start refusing new circuits. After <strong>NUM</strong>
    seconds, we exit. If we get a second SIGINT, we exit immediately.
    (Default: 30 seconds)
</p>
</dd>
<dt class="hdlist1">
<a id="SSLKeyLifetime"></a> <strong>SSLKeyLifetime</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>|<strong>days</strong>|<strong>weeks</strong>
</dt>
<dd>
<p>
    When creating a link certificate for our outermost SSL handshake,
    set its lifetime to this amount of time. If set to 0, Tor will choose
    some reasonable random defaults. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="HeartbeatPeriod"></a> <strong>HeartbeatPeriod</strong>  <em>N</em> <strong>minutes</strong>|<strong>hours</strong>|<strong>days</strong>|<strong>weeks</strong>
</dt>
<dd>
<p>
    Log a heartbeat message every <strong>HeartbeatPeriod</strong> seconds. This is
    a log level <em>notice</em> message, designed to let you know your Tor
    server is still alive and doing useful things. Settings this
    to 0 will disable the heartbeat. (Default: 6 hours)
</p>
</dd>
<dt class="hdlist1">
<a id="AccountingMax"></a> <strong>AccountingMax</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>|<strong>TBytes</strong>
</dt>
<dd>
<p>
    Never send more than the specified number of bytes in a given accounting
    period, or receive more than that number in the period. For example, with
    AccountingMax set to 1 GByte, a server could send 900 MBytes and
    receive 800 MBytes and continue running. It will only hibernate once
    one of the two reaches 1 GByte. When the number of bytes gets low,
    Tor will stop accepting new connections and circuits.  When the
    number of bytes is exhausted, Tor will hibernate until some
    time in the next accounting period. To prevent all servers from waking at
    the same time, Tor will also wait until a random point in each period
    before waking up. If you have bandwidth cost issues, enabling hibernation
    is preferable to setting a low bandwidth, since it provides users with a
    collection of fast servers that are up some of the time, which is more
    useful than a set of slow servers that are always "available".
</p>
</dd>
<dt class="hdlist1">
<a id="AccountingStart"></a> <strong>AccountingStart</strong> <strong>day</strong>|<strong>week</strong>|<strong>month</strong> [<em>day</em>] <em>HH:MM</em>
</dt>
<dd>
<p>
    Specify how long accounting periods last. If <strong>month</strong> is given, each
    accounting period runs from the time <em>HH:MM</em> on the <em>dayth</em> day of one
    month to the same day and time of the next. (The day must be between 1 and
    28.) If <strong>week</strong> is given, each accounting period runs from the time <em>HH:MM</em>
    of the <em>dayth</em> day of one week to the same day and time of the next week,
    with Monday as day 1 and Sunday as day 7. If <strong>day</strong> is given, each
    accounting period runs from the time <em>HH:MM</em> each day to the same time on
    the next day. All times are local, and given in 24-hour time. (Default:
    "month 1 0:00")
</p>
</dd>
<dt class="hdlist1">
<a id="RefuseUnknownExits"></a> <strong>RefuseUnknownExits</strong> <strong>0</strong>|<strong>1</strong>|<strong>auto</strong>
</dt>
<dd>
<p>
    Prevent nodes that don&#8217;t appear in the consensus from exiting using this
    relay.  If the option is 1, we always block exit attempts from such
    nodes; if it&#8217;s 0, we never do, and if the option is "auto", then we do
    whatever the authorities suggest in the consensus (and block if the consensus
    is quiet on the issue). (Default: auto)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSResolvConfFile"></a> <strong>ServerDNSResolvConfFile</strong> <em>filename</em>
</dt>
<dd>
<p>
    Overrides the default DNS configuration with the configuration in
    <em>filename</em>. The file format is the same as the standard Unix
    "<strong>resolv.conf</strong>" file (7). This option, like all other ServerDNS options,
    only affects name lookups that your server does on behalf of clients.
    (Defaults to use the system DNS configuration.)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSAllowBrokenConfig"></a> <strong>ServerDNSAllowBrokenConfig</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is false, Tor exits immediately if there are problems
    parsing the system DNS configuration or connecting to nameservers.
    Otherwise, Tor continues to periodically retry the system nameservers until
    it eventually succeeds. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSSearchDomains"></a> <strong>ServerDNSSearchDomains</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, then we will search for addresses in the local search domain.
    For example, if this system is configured to believe it is in
    "example.com", and a client tries to connect to "www", the client will be
    connected to "www.example.com". This option only affects name lookups that
    your server does on behalf of clients. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSDetectHijacking"></a> <strong>ServerDNSDetectHijacking</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set to 1, we will test periodically to determine
    whether our local nameservers have been configured to hijack failing DNS
    requests (usually to an advertising site). If they are, we will attempt to
    correct this. This option only affects name lookups that your server does
    on behalf of clients. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSTestAddresses"></a> <strong>ServerDNSTestAddresses</strong> <em>address</em>,<em>address</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    When we&#8217;re detecting DNS hijacking, make sure that these <em>valid</em> addresses
    aren&#8217;t getting redirected. If they are, then our DNS is completely useless,
    and we&#8217;ll reset our exit policy to "reject <strong>:</strong>". This option only affects
    name lookups that your server does on behalf of clients. (Default:
    "www.google.com, www.mit.edu, www.yahoo.com, www.slashdot.org")
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSAllowNonRFC953Hostnames"></a> <strong>ServerDNSAllowNonRFC953Hostnames</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is disabled, Tor does not try to resolve hostnames
    containing illegal characters (like @ and :) rather than sending them to an
    exit node to be resolved. This helps trap accidental attempts to resolve
    URLs and so on. This option only affects name lookups that your server does
    on behalf of clients. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="BridgeRecordUsageByCountry"></a> <strong>BridgeRecordUsageByCountry</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled and BridgeRelay is also enabled, and we have
    GeoIP data, Tor keeps a per-country count of how many client
    addresses have contacted it so that it can help the bridge authority guess
    which countries have blocked access to it. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="ServerDNSRandomizeCase"></a> <strong>ServerDNSRandomizeCase</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set, Tor sets the case of each character randomly in
    outgoing DNS requests, and makes sure that the case matches in DNS replies.
    This so-called "0x20 hack" helps resist some types of DNS poisoning attack.
    For more information, see "Increased DNS Forgery Resistance through
    0x20-Bit Encoding". This option only affects name lookups that your server
    does on behalf of clients. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="GeoIPFile"></a> <strong>GeoIPFile</strong> <em>filename</em>
</dt>
<dd>
<p>
    A filename containing IPv4 GeoIP data, for use with by-country statistics.
</p>
</dd>
<dt class="hdlist1">
<a id="GeoIPv6File"></a> <strong>GeoIPv6File</strong> <em>filename</em>
</dt>
<dd>
<p>
    A filename containing IPv6 GeoIP data, for use with by-country statistics.
</p>
</dd>
<dt class="hdlist1">
<a id="TLSECGroup"></a> <strong>TLSECGroup</strong> <strong>P224</strong>|<strong>P256</strong>
</dt>
<dd>
<p>
    What EC group should we try to use for incoming TLS connections?
    P224 is faster, but makes us stand out more. Has no effect if
    we&#8217;re a client, or if our OpenSSL version lacks support for ECDHE.
    (Default: P256)
</p>
</dd>
<dt class="hdlist1">
<a id="CellStatistics"></a> <strong>CellStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor writes statistics on the mean time that
    cells spend in circuit queues to disk every 24 hours. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="DirReqStatistics"></a> <strong>DirReqStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, a Tor directory writes statistics on the
    number and response time of network status requests to disk every 24
    hours. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="EntryStatistics"></a> <strong>EntryStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor writes statistics on the number of
    directly connecting clients to disk every 24 hours. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ExitPortStatistics"></a> <strong>ExitPortStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor writes statistics on the number of relayed
    bytes and opened stream per exit port to disk every 24 hours. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ConnDirectionStatistics"></a> <strong>ConnDirectionStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor writes statistics on the bidirectional use
    of connections to disk every 24 hours. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="ExtraInfoStatistics"></a> <strong>ExtraInfoStatistics</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor includes previously gathered statistics in
    its extra-info documents that it uploads to the directory authorities.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="ExtendAllowPrivateAddresses"></a> <strong>ExtendAllowPrivateAddresses</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is enabled, Tor routers allow EXTEND request to
    localhost, RFC1918 addresses, and so on. This can create security issues;
    you should probably leave it off. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="MaxMemInQueues"></a> <strong>MaxMemInQueues</strong>  <em>N</em> <strong>bytes</strong>|<strong>KB</strong>|<strong>MB</strong>|<strong>GB</strong>
</dt>
<dd>
<p>
    This option configures a threshold above which Tor will assume that it
    needs to stop queueing or buffering data because it&#8217;s about to run out of
    memory.  If it hits this threshold, it will begin killing circuits until
    it has recovered at least 10% of this memory.  Do not set this option too
    low, or your relay may be unreliable under load.  This option only
    affects some queues, so the actual process size will be larger than
    this.  If this option is set to 0, Tor will try to pick a reasonable
    default based on your system&#8217;s physical memory.  (Default: 0)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_directory_server_options">DIRECTORY SERVER OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options are useful only for directory servers (that is,
if DirPort is non-zero):</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="DirPortFrontPage"></a> <strong>DirPortFrontPage</strong> <em>FILENAME</em>
</dt>
<dd>
<p>
    When this option is set, it takes an HTML file and publishes it as "/" on
    the DirPort. Now relay operators can provide a disclaimer without needing
    to set up a separate webserver. There&#8217;s a sample disclaimer in
    contrib/operator-tools/tor-exit-notice.html.
</p>
</dd>
<dt class="hdlist1">
<a id="HidServDirectoryV2"></a> <strong>HidServDirectoryV2</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set, Tor accepts and serves v2 hidden service
    descriptors. Setting DirPort is not required for this, because clients
    connect via the ORPort by default. (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="DirPort"></a> <strong>DirPort</strong> [<em>address</em>:]<em>PORT</em>|<strong>auto</strong> [<em>flags</em>]
</dt>
<dd>
<p>
    If this option is nonzero, advertise the directory service on this port.
    Set it to "auto" to have Tor pick a port for you.  This option can occur
    more than once, but only one advertised DirPort is supported: all
    but one DirPort must have the <strong>NoAdvertise</strong> flag set. (Default: 0)
</p>
<div class="literalblock">
<div class="content">
<pre><code>The same flags are supported here as are supported by ORPort.</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="DirListenAddress"></a> <strong>DirListenAddress</strong> <em>IP</em>[:<em>PORT</em>]
</dt>
<dd>
<p>
    Bind the directory service to this address. If you specify a port, bind to
    this port rather than the one specified in DirPort.  (Default: 0.0.0.0)
    This directive can be specified multiple times  to bind to multiple
    addresses/ports.
</p>
<div class="literalblock">
<div class="content">
<pre><code>This option is deprecated; you can get the same behavior with DirPort now
that it supports NoAdvertise and explicit addresses.</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="DirPolicy"></a> <strong>DirPolicy</strong> <em>policy</em>,<em>policy</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Set an entrance policy for this server, to limit who can connect to the
    directory ports. The policies have the same form as exit policies above,
    except that port specifiers are ignored. Any address not matched by
    some entry in the policy is accepted.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_directory_authority_server_options">DIRECTORY AUTHORITY SERVER OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options enable operation as a directory authority, and
control how Tor behaves as a directory authority.  You should not need
to adjust any of them if you&#8217;re running a regular relay or exit server
on the public Tor network.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="AuthoritativeDirectory"></a> <strong>AuthoritativeDirectory</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set to 1, Tor operates as an authoritative directory
    server. Instead of caching the directory, it generates its own list of
    good servers, signs it, and sends that to the clients. Unless the clients
    already have you listed as a trusted directory, you probably do not want
    to set this option. Please coordinate with the other admins at
    <a href="mailto:tor-ops@torproject.org">tor-ops@torproject.org</a> if you think you should be a directory.
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthoritativeDirectory"></a> <strong>V3AuthoritativeDirectory</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set in addition to <strong>AuthoritativeDirectory</strong>, Tor
    generates version 3 network statuses and serves descriptors, etc as
    described in doc/spec/dir-spec.txt (for Tor clients and servers running at
    least 0.2.0.x).
</p>
</dd>
<dt class="hdlist1">
<a id="VersioningAuthoritativeDirectory"></a> <strong>VersioningAuthoritativeDirectory</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set to 1, Tor adds information on which versions of
    Tor are still believed safe for use to the published directory. Each
    version 1 authority is automatically a versioning authority; version 2
    authorities provide this service optionally. See <strong>RecommendedVersions</strong>,
    <strong>RecommendedClientVersions</strong>, and <strong>RecommendedServerVersions</strong>.
</p>
</dd>
<dt class="hdlist1">
<a id="NamingAuthoritativeDirectory"></a> <strong>NamingAuthoritativeDirectory</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set to 1, then the server advertises that it has
    opinions about nickname-to-fingerprint bindings. It will include these
    opinions in its published network-status pages, by listing servers with
    the flag "Named" if a correct binding between that nickname and fingerprint
    has been registered with the dirserver. Naming dirservers will refuse to
    accept or publish descriptors that contradict a registered binding. See
    <strong>approved-routers</strong> in the <strong>FILES</strong> section below.
</p>
</dd>
<dt class="hdlist1">
<a id="RecommendedVersions"></a> <strong>RecommendedVersions</strong> <em>STRING</em>
</dt>
<dd>
<p>
    STRING is a comma-separated list of Tor versions currently believed to be
    safe. The list is included in each directory, and nodes which pull down the
    directory learn whether they need to upgrade. This option can appear
    multiple times: the values from multiple lines are spliced together. When
    this is set then <strong>VersioningAuthoritativeDirectory</strong> should be set too.
</p>
</dd>
<dt class="hdlist1">
<a id="RecommendedClientVersions"></a> <strong>RecommendedClientVersions</strong> <em>STRING</em>
</dt>
<dd>
<p>
    STRING is a comma-separated list of Tor versions currently believed to be
    safe for clients to use. This information is included in version 2
    directories. If this is not set then the value of <strong>RecommendedVersions</strong>
    is used. When this is set then <strong>VersioningAuthoritativeDirectory</strong> should
    be set too.
</p>
</dd>
<dt class="hdlist1">
<a id="BridgeAuthoritativeDir"></a> <strong>BridgeAuthoritativeDir</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set in addition to <strong>AuthoritativeDirectory</strong>, Tor
    accepts and serves router descriptors, but it caches and serves the main
    networkstatus documents rather than generating its own. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="MinUptimeHidServDirectoryV2"></a> <strong>MinUptimeHidServDirectoryV2</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>|<strong>hours</strong>|<strong>days</strong>|<strong>weeks</strong>
</dt>
<dd>
<p>
    Minimum uptime of a v2 hidden service directory to be accepted as such by
    authoritative directories. (Default: 25 hours)
</p>
</dd>
<dt class="hdlist1">
<a id="RecommendedServerVersions"></a> <strong>RecommendedServerVersions</strong> <em>STRING</em>
</dt>
<dd>
<p>
    STRING is a comma-separated list of Tor versions currently believed to be
    safe for servers to use. This information is included in version 2
    directories. If this is not set then the value of <strong>RecommendedVersions</strong>
    is used. When this is set then <strong>VersioningAuthoritativeDirectory</strong> should
    be set too.
</p>
</dd>
<dt class="hdlist1">
<a id="ConsensusParams"></a> <strong>ConsensusParams</strong> <em>STRING</em>
</dt>
<dd>
<p>
    STRING is a space-separated list of key=value pairs that Tor will include
    in the "params" line of its networkstatus vote.
</p>
</dd>
<dt class="hdlist1">
<a id="DirAllowPrivateAddresses"></a> <strong>DirAllowPrivateAddresses</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor will accept router descriptors with arbitrary "Address"
    elements. Otherwise, if the address is not an IP address or is a private IP
    address, it will reject the router descriptor. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirBadDir"></a> <strong>AuthDirBadDir</strong> <em>AddressPattern&#8230;</em>
</dt>
<dd>
<p>
    Authoritative directories only. A set of address patterns for servers that
    will be listed as bad directories in any network status document this
    authority publishes, if <strong>AuthDirListBadDirs</strong> is set.<br />
<br />
    (The address pattern syntax here and in the options below
    is the same as for exit policies, except that you don&#8217;t need to say
    "accept" or "reject", and ports are not needed.)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirBadExit"></a> <strong>AuthDirBadExit</strong> <em>AddressPattern&#8230;</em>
</dt>
<dd>
<p>
    Authoritative directories only. A set of address patterns for servers that
    will be listed as bad exits in any network status document this authority
    publishes, if <strong>AuthDirListBadExits</strong> is set.
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirInvalid"></a> <strong>AuthDirInvalid</strong> <em>AddressPattern&#8230;</em>
</dt>
<dd>
<p>
    Authoritative directories only. A set of address patterns for servers that
    will never be listed as "valid" in any network status document that this
    authority publishes.
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirReject"></a> <strong>AuthDirReject</strong> <em>AddressPattern</em>&#8230;
</dt>
<dd>
<p>
    Authoritative directories only. A set of address patterns for servers that
    will never be listed at all in any network status document that this
    authority publishes, or accepted as an OR address in any descriptor
    submitted for publication by this authority.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><a id="AuthDirBadDirCCs"></a> <strong>AuthDirBadDirCCs</strong> <em>CC</em>,&#8230;<br /></p></div>
<div class="paragraph"><p><a id="AuthDirBadExitCCs"></a> <strong>AuthDirBadExitCCs</strong> <em>CC</em>,&#8230;<br /></p></div>
<div class="paragraph"><p><a id="AuthDirInvalidCCs"></a> <strong>AuthDirInvalidCCs</strong> <em>CC</em>,&#8230;<br /></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="AuthDirRejectCCs"></a> <strong>AuthDirRejectCCs</strong> <em>CC</em>,&#8230;
</dt>
<dd>
<p>
    Authoritative directories only. These options contain a comma-separated
    list of country codes such that any server in one of those country codes
    will be marked as a bad directory/bad exit/invalid for use, or rejected
    entirely.
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirListBadDirs"></a> <strong>AuthDirListBadDirs</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Authoritative directories only. If set to 1, this directory has some
    opinion about which nodes are unsuitable as directory caches. (Do not set
    this to 1 unless you plan to list non-functioning directories as bad;
    otherwise, you are effectively voting in favor  of every declared
    directory.)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirListBadExits"></a> <strong>AuthDirListBadExits</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Authoritative directories only. If set to 1, this directory has some
    opinion about which nodes are unsuitable as exit nodes. (Do not set this to
    1 unless you plan to list non-functioning exits as bad; otherwise, you are
    effectively voting in favor of every declared exit as an exit.)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirRejectUnlisted"></a> <strong>AuthDirRejectUnlisted</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Authoritative directories only. If set to 1, the directory server rejects
    all uploaded server descriptors that aren&#8217;t explicitly listed in the
    fingerprints file. This acts as a "panic button" if we get hit with a Sybil
    attack. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirMaxServersPerAddr"></a> <strong>AuthDirMaxServersPerAddr</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Authoritative directories only. The maximum number of servers that we will
    list as acceptable on a single IP address. Set this to "0" for "no limit".
    (Default: 2)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirMaxServersPerAuthAddr"></a> <strong>AuthDirMaxServersPerAuthAddr</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Authoritative directories only. Like AuthDirMaxServersPerAddr, but applies
    to addresses shared with directory authorities. (Default: 5)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirFastGuarantee"></a> <strong>AuthDirFastGuarantee</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    Authoritative directories only. If non-zero, always vote the
    Fast flag for any relay advertising this amount of capacity or
    more. (Default: 100 KBytes)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirGuardBWGuarantee"></a> <strong>AuthDirGuardBWGuarantee</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    Authoritative directories only. If non-zero, this advertised capacity
    or more is always sufficient to satisfy the bandwidth requirement
    for the Guard flag. (Default: 250 KBytes)
</p>
</dd>
<dt class="hdlist1">
<a id="BridgePassword"></a> <strong>BridgePassword</strong> <em>Password</em>
</dt>
<dd>
<p>
    If set, contains an HTTP authenticator that tells a bridge authority to
    serve all requested bridge information. Used by the (only partially
    implemented) "bridge community" design, where a community of bridge
    relay operators all use an alternate bridge directory authority,
    and their target user audience can periodically fetch the list of
    available community bridges to stay up-to-date. (Default: not set)
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthVotingInterval"></a> <strong>V3AuthVotingInterval</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    V3 authoritative directories only. Configures the server&#8217;s preferred voting
    interval. Note that voting will <em>actually</em> happen at an interval chosen
    by consensus from all the authorities' preferred intervals. This time
    SHOULD divide evenly into a day. (Default: 1 hour)
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthVoteDelay"></a> <strong>V3AuthVoteDelay</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    V3 authoritative directories only. Configures the server&#8217;s preferred delay
    between publishing its vote and assuming it has all the votes from all the
    other authorities. Note that the actual time used is not the server&#8217;s
    preferred time, but the consensus of all preferences. (Default: 5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthDistDelay"></a> <strong>V3AuthDistDelay</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    V3 authoritative directories only. Configures the server&#8217;s preferred  delay
    between publishing its consensus and signature and assuming  it has all the
    signatures from all the other authorities. Note that the actual time used
    is not the server&#8217;s preferred time,  but the consensus of all preferences.
    (Default: 5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthNIntervalsValid"></a> <strong>V3AuthNIntervalsValid</strong> <em>NUM</em>
</dt>
<dd>
<p>
    V3 authoritative directories only. Configures the number of VotingIntervals
    for which each consensus should be valid for. Choosing high numbers
    increases network partitioning risks; choosing low numbers increases
    directory traffic. Note that the actual number of intervals used is not the
    server&#8217;s preferred number, but the consensus of all preferences. Must be at
    least 2. (Default: 3)
</p>
</dd>
<dt class="hdlist1">
<a id="V3BandwidthsFile"></a> <strong>V3BandwidthsFile</strong> <em>FILENAME</em>
</dt>
<dd>
<p>
    V3 authoritative directories only. Configures the location of the
    bandwidth-authority generated file storing information on relays' measured
    bandwidth capacities. (Default: unset)
</p>
</dd>
<dt class="hdlist1">
<a id="V3AuthUseLegacyKey"></a> <strong>V3AuthUseLegacyKey</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set, the directory authority will sign consensuses not only with its
    own signing key, but also with a "legacy" key and certificate with a
    different identity.  This feature is used to migrate directory authority
    keys in the event of a compromise.  (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="RephistTrackTime"></a> <strong>RephistTrackTime</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>|<strong>hours</strong>|<strong>days</strong>|<strong>weeks</strong>
</dt>
<dd>
<p>
    Tells an authority, or other node tracking node reliability and history,
    that fine-grained information about nodes can be discarded when it hasn&#8217;t
    changed for a given amount of time.  (Default: 24 hours)
</p>
</dd>
<dt class="hdlist1">
<a id="VoteOnHidServDirectoriesV2"></a> <strong>VoteOnHidServDirectoriesV2</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    When this option is set in addition to <strong>AuthoritativeDirectory</strong>, Tor
    votes on whether to accept relays as hidden service directories.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="AuthDirHasIPv6Connectivity"></a> <strong>AuthDirHasIPv6Connectivity</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    Authoritative directories only. When set to 0, OR ports with an
    IPv6 address are being accepted without reachability testing.
    When set to 1, IPv6 OR ports are being tested just like IPv4 OR
    ports. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="MinMeasuredBWsForAuthToIgnoreAdvertised"></a> <strong>MinMeasuredBWsForAuthToIgnoreAdvertised</strong> <em>N</em>
</dt>
<dd>
<p>
    A total value, in abstract bandwidth units, describing how much
    measured total bandwidth an authority should have observed on the network
    before it will treat advertised bandwidths as wholly
    unreliable. (Default: 500)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_hidden_service_options">HIDDEN SERVICE OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options are used to configure a hidden service.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="HiddenServiceDir"></a> <strong>HiddenServiceDir</strong> <em>DIRECTORY</em>
</dt>
<dd>
<p>
    Store data files for a hidden service in DIRECTORY. Every hidden service
    must have a separate directory. You may use this option  multiple times to
    specify multiple services. DIRECTORY must be an existing directory.
</p>
</dd>
<dt class="hdlist1">
<a id="HiddenServicePort"></a> <strong>HiddenServicePort</strong> <em>VIRTPORT</em> [<em>TARGET</em>]
</dt>
<dd>
<p>
    Configure a virtual port VIRTPORT for a hidden service. You may use this
    option multiple times; each time applies to the service using the most
    recent hiddenservicedir. By default, this option maps the virtual port to
    the same port on 127.0.0.1 over TCP. You may override the target port,
    address, or both by specifying a target of addr, port, or addr:port.
    You may also have multiple lines with  the same VIRTPORT: when a user
    connects to that VIRTPORT, one of the TARGETs from those lines will be
    chosen at random.
</p>
</dd>
<dt class="hdlist1">
<a id="PublishHidServDescriptors"></a> <strong>PublishHidServDescriptors</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 0, Tor will run any hidden services you configure, but it won&#8217;t
    advertise them to the rendezvous directory. This option is only useful if
    you&#8217;re using a Tor controller that handles hidserv publishing for you.
    (Default: 1)
</p>
</dd>
<dt class="hdlist1">
<a id="HiddenServiceVersion"></a> <strong>HiddenServiceVersion</strong> <em>version</em>,<em>version</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of rendezvous service descriptor versions to publish for the hidden
    service. Currently, only version 2 is supported. (Default: 2)
</p>
</dd>
<dt class="hdlist1">
<a id="HiddenServiceAuthorizeClient"></a> <strong>HiddenServiceAuthorizeClient</strong> <em>auth-type</em> <em>client-name</em>,<em>client-name</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    If configured, the hidden service is accessible for authorized clients
    only. The auth-type can either be 'basic' for a general-purpose
    authorization protocol or 'stealth' for a less scalable protocol that also
    hides service activity from unauthorized clients. Only clients that are
    listed here are authorized to access the hidden service. Valid client names
    are 1 to 16 characters long and only use characters in A-Za-z0-9+-_ (no
    spaces). If this option is set, the hidden service is not accessible for
    clients without authorization any more. Generated authorization data can be
    found in the hostname file. Clients need to put this authorization data in
    their configuration file using <strong>HidServAuth</strong>.
</p>
</dd>
<dt class="hdlist1">
<a id="RendPostPeriod"></a> <strong>RendPostPeriod</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>|<strong>hours</strong>|<strong>days</strong>|<strong>weeks</strong>
</dt>
<dd>
<p>
    Every time the specified period elapses, Tor uploads any rendezvous
    service descriptors to the directory servers. This information  is also
    uploaded whenever it changes. (Default: 1 hour)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_network_options">TESTING NETWORK OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following options are used for running a testing Tor network.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="TestingTorNetwork"></a> <strong>TestingTorNetwork</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If set to 1, Tor adjusts default values of the configuration options below,
    so that it is easier to set up a testing Tor network. May only be set if
    non-default set of DirAuthorities is set. Cannot be unset while Tor is
    running.
    (Default: 0)<br />
</p>
<div class="literalblock">
<div class="content">
<pre><code>ServerDNSAllowBrokenConfig 1
DirAllowPrivateAddresses 1
EnforceDistinctSubnets 0
AssumeReachable 1
AuthDirMaxServersPerAddr 0
AuthDirMaxServersPerAuthAddr 0
ClientDNSRejectInternalAddresses 0
ClientRejectInternalAddresses 0
CountPrivateBandwidth 1
ExitPolicyRejectPrivate 0
ExtendAllowPrivateAddresses 1
V3AuthVotingInterval 5 minutes
V3AuthVoteDelay 20 seconds
V3AuthDistDelay 20 seconds
MinUptimeHidServDirectoryV2 0 seconds
TestingV3AuthInitialVotingInterval 5 minutes
TestingV3AuthInitialVoteDelay 20 seconds
TestingV3AuthInitialDistDelay 20 seconds
TestingAuthDirTimeToLearnReachability 0 minutes
TestingEstimatedDescriptorPropagationTime 0 minutes
TestingServerDownloadSchedule 0, 0, 0, 5, 10, 15, 20, 30, 60
TestingClientDownloadSchedule 0, 0, 5, 10, 15, 20, 30, 60
TestingServerConsensusDownloadSchedule 0, 0, 5, 10, 15, 20, 30, 60
TestingClientConsensusDownloadSchedule 0, 0, 5, 10, 15, 20, 30, 60
TestingBridgeDownloadSchedule 60, 30, 30, 60
TestingClientMaxIntervalWithoutRequest 5 seconds
TestingDirConnectionMaxStall 30 seconds
TestingConsensusMaxDownloadTries 80
TestingDescriptorMaxDownloadTries 80
TestingMicrodescMaxDownloadTries 80
TestingCertMaxDownloadTries 80
TestingEnableConnBwEvent 1
TestingEnableCellStatsEvent 1
TestingEnableTbEmptyEvent 1</code></pre>
</div></div>
</dd>
<dt class="hdlist1">
<a id="TestingV3AuthInitialVotingInterval"></a> <strong>TestingV3AuthInitialVotingInterval</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    Like V3AuthVotingInterval, but for initial voting interval before the first
    consensus has been created. Changing this requires that
    <strong>TestingTorNetwork</strong> is set. (Default: 30 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingV3AuthInitialVoteDelay"></a> <strong>TestingV3AuthInitialVoteDelay</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    Like V3AuthVoteDelay, but for initial voting interval before
    the first consensus has been created. Changing this requires that
    <strong>TestingTorNetwork</strong> is set. (Default: 5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingV3AuthInitialDistDelay"></a> <strong>TestingV3AuthInitialDistDelay</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    Like V3AuthDistDelay, but for initial voting interval before
    the first consensus has been created. Changing this requires that
    <strong>TestingTorNetwork</strong> is set. (Default: 5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingV3AuthVotingStartOffset"></a> <strong>TestingV3AuthVotingStartOffset</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    Directory authorities offset voting start time by this much.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingAuthDirTimeToLearnReachability"></a> <strong>TestingAuthDirTimeToLearnReachability</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    After starting as an authority, do not make claims about whether routers
    are Running until this much time has passed. Changing this requires
    that <strong>TestingTorNetwork</strong> is set.  (Default: 30 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingEstimatedDescriptorPropagationTime"></a> <strong>TestingEstimatedDescriptorPropagationTime</strong> <em>N</em> <strong>minutes</strong>|<strong>hours</strong>
</dt>
<dd>
<p>
    Clients try downloading router descriptors from directory caches after this
    time. Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default:
    10 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingMinFastFlagThreshold"></a> <strong>TestingMinFastFlagThreshold</strong> <em>N</em> <strong>bytes</strong>|<strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    Minimum value for the Fast flag.  Overrides the ordinary minimum taken
    from the consensus when TestingTorNetwork is set. (Default: 0.)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingServerDownloadSchedule"></a> <strong>TestingServerDownloadSchedule</strong> <em>N</em>,<em>N</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Schedule for when servers should download things in general. Changing this
    requires that <strong>TestingTorNetwork</strong> is set. (Default: 0, 0, 0, 60, 60, 120,
    300, 900, 2147483647)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingClientDownloadSchedule"></a> <strong>TestingClientDownloadSchedule</strong> <em>N</em>,<em>N</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Schedule for when clients should download things in general. Changing this
    requires that <strong>TestingTorNetwork</strong> is set. (Default: 0, 0, 60, 300, 600,
    2147483647)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingServerConsensusDownloadSchedule"></a> <strong>TestingServerConsensusDownloadSchedule</strong> <em>N</em>,<em>N</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Schedule for when servers should download consensuses. Changing this
    requires that <strong>TestingTorNetwork</strong> is set. (Default: 0, 0, 60, 300, 600,
    1800, 1800, 1800, 1800, 1800, 3600, 7200)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingClientConsensusDownloadSchedule"></a> <strong>TestingClientConsensusDownloadSchedule</strong> <em>N</em>,<em>N</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Schedule for when clients should download consensuses. Changing this
    requires that <strong>TestingTorNetwork</strong> is set. (Default: 0, 0, 60, 300, 600,
    1800, 3600, 3600, 3600, 10800, 21600, 43200)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingBridgeDownloadSchedule"></a> <strong>TestingBridgeDownloadSchedule</strong> <em>N</em>,<em>N</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    Schedule for when clients should download bridge descriptors. Changing this
    requires that <strong>TestingTorNetwork</strong> is set. (Default: 3600, 900, 900, 3600)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingClientMaxIntervalWithoutRequest"></a> <strong>TestingClientMaxIntervalWithoutRequest</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>
</dt>
<dd>
<p>
    When directory clients have only a few descriptors to request, they batch
    them until they have more, or until this amount of time has passed.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default: 10
    minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingDirConnectionMaxStall"></a> <strong>TestingDirConnectionMaxStall</strong> <em>N</em> <strong>seconds</strong>|<strong>minutes</strong>
</dt>
<dd>
<p>
    Let a directory connection stall this long before expiring it.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default:
    5 minutes)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingConsensusMaxDownloadTries"></a> <strong>TestingConsensusMaxDownloadTries</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Try this often to download a consensus before giving up. Changing
    this requires that <strong>TestingTorNetwork</strong> is set. (Default: 8)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingDescriptorMaxDownloadTries"></a> <strong>TestingDescriptorMaxDownloadTries</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Try this often to download a router descriptor before giving up.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default: 8)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingMicrodescMaxDownloadTries"></a> <strong>TestingMicrodescMaxDownloadTries</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Try this often to download a microdesc descriptor before giving up.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default: 8)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingCertMaxDownloadTries"></a> <strong>TestingCertMaxDownloadTries</strong> <em>NUM</em>
</dt>
<dd>
<p>
    Try this often to download a v3 authority certificate before giving up.
    Changing this requires that <strong>TestingTorNetwork</strong> is set. (Default: 8)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingDirAuthVoteGuard"></a> <strong>TestingDirAuthVoteGuard</strong> <em>node</em>,<em>node</em>,<em>&#8230;</em>
</dt>
<dd>
<p>
    A list of identity fingerprints, nicknames, country codes and
    address patterns of nodes to vote Guard for regardless of their
    uptime and bandwidth. See the <strong>ExcludeNodes</strong> option for more
    information on how to specify nodes.
<br />
    In order for this option to have any effect, <strong>TestingTorNetwork</strong>
    has to be set.
</p>
</dd>
<dt class="hdlist1">
<a id="TestingEnableConnBwEvent"></a> <strong>TestingEnableConnBwEvent</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set, then Tor controllers may register for CONN_BW
    events.  Changing this requires that <strong>TestingTorNetwork</strong> is set.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingEnableCellStatsEvent"></a> <strong>TestingEnableCellStatsEvent</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set, then Tor controllers may register for CELL_STATS
    events.  Changing this requires that <strong>TestingTorNetwork</strong> is set.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingEnableTbEmptyEvent"></a> <strong>TestingEnableTbEmptyEvent</strong> <strong>0</strong>|<strong>1</strong>
</dt>
<dd>
<p>
    If this option is set, then Tor controllers may register for TB_EMPTY
    events.  Changing this requires that <strong>TestingTorNetwork</strong> is set.
    (Default: 0)
</p>
</dd>
<dt class="hdlist1">
<a id="TestingMinExitFlagThreshold"></a> <strong>TestingMinExitFlagThreshold</strong>  <em>N</em> <strong>KBytes</strong>|<strong>MBytes</strong>|<strong>GBytes</strong>|<strong>KBits</strong>|<strong>MBits</strong>|<strong>GBits</strong>
</dt>
<dd>
<p>
    Sets a lower-bound for assigning an exit flag when running as an
    authority on a testing network. Overrides the usual default lower bound
    of 4 KB. (Default: 0)
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_signals">SIGNALS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Tor catches the following signals:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="SIGTERM"></a> <strong>SIGTERM</strong>
</dt>
<dd>
<p>
    Tor will catch this, clean up and sync to disk if necessary, and exit.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGINT"></a> <strong>SIGINT</strong>
</dt>
<dd>
<p>
    Tor clients behave as with SIGTERM; but Tor servers will do a controlled
    slow shutdown, closing listeners and waiting 30 seconds before exiting.
    (The delay can be configured with the ShutdownWaitLength config option.)
</p>
</dd>
<dt class="hdlist1">
<a id="SIGHUP"></a> <strong>SIGHUP</strong>
</dt>
<dd>
<p>
    The signal instructs Tor to reload its configuration (including closing and
    reopening logs), and kill and restart its helper processes if applicable.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGUSR1"></a> <strong>SIGUSR1</strong>
</dt>
<dd>
<p>
    Log statistics about current connections, past connections, and throughput.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGUSR2"></a> <strong>SIGUSR2</strong>
</dt>
<dd>
<p>
    Switch all logs to loglevel debug. You can go back to the old loglevels by
    sending a SIGHUP.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGCHLD"></a> <strong>SIGCHLD</strong>
</dt>
<dd>
<p>
    Tor receives this signal when one of its helper processes has exited, so it
    can clean up.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGPIPE"></a> <strong>SIGPIPE</strong>
</dt>
<dd>
<p>
    Tor catches this signal and ignores it.
</p>
</dd>
<dt class="hdlist1">
<a id="SIGXFSZ"></a> <strong>SIGXFSZ</strong>
</dt>
<dd>
<p>
    If this signal exists on your platform, Tor catches and ignores it.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_files">FILES</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>@CONFDIR@/torrc</strong>
</dt>
<dd>
<p>
    The configuration file, which contains "option value" pairs.
</p>
</dd>
<dt class="hdlist1">
<strong>$HOME/.torrc</strong>
</dt>
<dd>
<p>
    Fallback location for torrc, if @CONFDIR@/torrc is not found.
</p>
</dd>
<dt class="hdlist1">
<strong>@LOCALSTATEDIR@/lib/tor/</strong>
</dt>
<dd>
<p>
    The tor process stores keys and other data here.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-status/</strong>
</dt>
<dd>
<p>
    The most recently downloaded network status document for each authority.
    Each file holds one such document; the filenames are the hexadecimal
    identity key fingerprints of the directory authorities.  Mostly obsolete.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-certs</strong>
</dt>
<dd>
<p>
    This file holds downloaded directory key certificates that are used to
    verify authenticity of documents generated by Tor directory authorities.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-consensus</strong> and/or <strong>cached-microdesc-consensus</strong>
</dt>
<dd>
<p>
    The most recent consensus network status document we&#8217;ve downloaded.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-descriptors</strong> and <strong>cached-descriptors.new</strong>
</dt>
<dd>
<p>
    These files hold downloaded router statuses. Some routers may appear more
    than once; if so, the most recently published descriptor is used. Lines
    beginning with @-signs are annotations that contain more information about
    a given router. The ".new" file is an append-only journal; when it gets
    too large, all entries are merged into a new cached-descriptors file.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-microdescs</strong> and <strong>cached-microdescs.new</strong>
</dt>
<dd>
<p>
    These files hold downloaded microdescriptors.  Lines beginning with
    @-signs are annotations that contain more information about a given
    router. The ".new" file is an append-only journal; when it gets too
    large, all entries are merged into a new cached-microdescs file.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/cached-routers</strong> and <strong>cached-routers.new</strong>
</dt>
<dd>
<p>
    Obsolete versions of cached-descriptors and cached-descriptors.new. When
    Tor can&#8217;t find the newer files, it looks here instead.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/state</strong>
</dt>
<dd>
<p>
    A set of persistent key-value mappings. These are documented in
    the file. These include:
</p>
<div class="ulist"><ul>
<li>
<p>
The current entry guards and their status.
</p>
</li>
<li>
<p>
The current bandwidth accounting values (unused so far; see
            below).
</p>
</li>
<li>
<p>
When the file was last written
</p>
</li>
<li>
<p>
What version of Tor generated the state file
</p>
</li>
<li>
<p>
A short history of bandwidth usage, as produced in the router
            descriptors.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/bw_accounting</strong>
</dt>
<dd>
<p>
    Used to track bandwidth accounting values (when the current period starts
    and ends; how much has been read and written so far this period). This file
    is obsolete, and the data is now stored in the 'state' file as well. Only
    used when bandwidth accounting is enabled.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/control_auth_cookie</strong>
</dt>
<dd>
<p>
    Used for cookie authentication with the controller. Location can be
    overridden by the CookieAuthFile config option. Regenerated on startup. See
    control-spec.txt for details. Only used when cookie authentication is
    enabled.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/lock</strong>
</dt>
<dd>
<p>
    This file is used to prevent two Tor instances from using same data
    directory. If access to this file is locked, data directory is already
    in use by Tor.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/keys/</strong>*
</dt>
<dd>
<p>
    Only used by servers. Holds identity keys and onion keys.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/fingerprint</strong>
</dt>
<dd>
<p>
    Only used by servers. Holds the fingerprint of the server&#8217;s identity key.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/hashed-fingerprint</strong>
</dt>
<dd>
<p>
    Only used by bridges. Holds the hashed fingerprint of the bridge&#8217;s
    identity key. (That is, the hash of the hash of the identity key.)
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/approved-routers</strong>
</dt>
<dd>
<p>
    Only for naming authoritative directory servers (see
    <strong>NamingAuthoritativeDirectory</strong>). This file lists nickname to identity
    bindings. Each line lists a nickname and a fingerprint separated by
    whitespace. See your <strong>fingerprint</strong> file in the <em>DataDirectory</em> for an
    example line. If the nickname is <strong>!reject</strong> then descriptors from the
    given identity (fingerprint) are rejected by this server. If it is
    <strong>!invalid</strong> then descriptors are accepted but marked in the directory as
    not valid, that is, not recommended.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/v3-status-votes</strong>
</dt>
<dd>
<p>
    Only for authoritative directory servers. This file contains status votes
    from all the authoritative directory servers and is used to generate the
    network consensus document.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/unverified-consensus</strong>
</dt>
<dd>
<p>
    This file contains a network consensus document that has been downloaded,
    but which we didn&#8217;t have the right certificates to check yet.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/unverified-microdesc-consensus</strong>
</dt>
<dd>
<p>
    This file contains a microdescriptor-flavored network consensus document
    that has been downloaded, but which we didn&#8217;t have the right certificates
    to check yet.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/unparseable-desc</strong>
</dt>
<dd>
<p>
    Onion router descriptors that Tor was unable to parse are dumped to this
    file. Only used for debugging.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/router-stability</strong>
</dt>
<dd>
<p>
    Only used by authoritative directory servers. Tracks measurements for
    router mean-time-between-failures so that authorities have a good idea of
    how to set their Stable flags.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/dirreq-stats</strong>
</dt>
<dd>
<p>
    Only used by directory caches and authorities. This file is used to
    collect directory request statistics.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/entry-stats</strong>
</dt>
<dd>
<p>
    Only used by servers. This file is used to collect incoming connection
    statistics by Tor entry nodes.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/bridge-stats</strong>
</dt>
<dd>
<p>
    Only used by servers. This file is used to collect incoming connection
    statistics by Tor bridges.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/exit-stats</strong>
</dt>
<dd>
<p>
    Only used by servers. This file is used to collect outgoing connection
    statistics by Tor exit routers.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/buffer-stats</strong>
</dt>
<dd>
<p>
    Only used by servers. This file is used to collect buffer usage
    history.
</p>
</dd>
<dt class="hdlist1">
<em>DataDirectory</em><strong>/stats/conn-stats</strong>
</dt>
<dd>
<p>
    Only used by servers. This file is used to collect approximate connection
    history (number of active connections over time).
</p>
</dd>
<dt class="hdlist1">
<em>HiddenServiceDirectory</em><strong>/hostname</strong>
</dt>
<dd>
<p>
    The &lt;base32-encoded-fingerprint&gt;.onion domain name for this hidden service.
    If the hidden service is restricted to authorized clients only, this file
    also contains authorization data for all clients.
</p>
</dd>
<dt class="hdlist1">
<em>HiddenServiceDirectory</em><strong>/private_key</strong>
</dt>
<dd>
<p>
    The private key for this hidden service.
</p>
</dd>
<dt class="hdlist1">
<em>HiddenServiceDirectory</em><strong>/client_keys</strong>
</dt>
<dd>
<p>
    Authorization data for a hidden service that is only accessible by
    authorized clients.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>torsocks</strong>(1), <strong>torify</strong>(1)<br /></p></div>
<div class="paragraph"><p><strong>https://www.torproject.org/</strong></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_bugs">BUGS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Plenty, probably. Tor is still in development. Please report them.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_authors">AUTHORS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Roger Dingledine [arma at mit.edu], Nick Mathewson [nickm at alum.mit.edu].</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2014-10-10 09:06:24 EDT
</div>
</div>
</body>
</html>
