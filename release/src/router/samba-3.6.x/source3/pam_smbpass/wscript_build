#!/usr/bin/env python

if bld.CONFIG_SET('WITH_PAM_MODULES'):
    bld.SAMBA3_LIBRARY('pamsmbpass',
        source='''pam_smb_auth.c
                  pam_smb_passwd.c
                  pam_smb_acct.c
                  support.c''',
        deps='''tdb talloc pam PAM_ERRORS wbclient cap ASN1_UTIL param LIB_NONSMBD passdb SMBLDAP
                LIBNTLMSSP LIBTSOCKET''',
        cflags='-DLOCALEDIR=\"%s/locale\"' % bld.env.DATADIR,
        realname='pam_smbpass.so',
        )
