<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>vfs_time_audit</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="vfs_time_audit"><a name="vfs_time_audit.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vfs_time_audit &#8212; samba vfs module to log slow VFS operations</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = time_audit</code></p></div></div><div class="refsect1" title="DESCRIPTION"><a name="id266340"></a><h2>DESCRIPTION</h2><p>This VFS module is part of the
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a> suite.</p><p>The <code class="literal">time_audit</code> VFS module logs system calls
	that take longer than the number of milliseconds defined by the variable
	<code class="literal">time_audit:audit_timeout</code>. It will log the calls and
	the time spent in it.
	</p><p>It's kind of comparable with <code class="literal">strace -T</code> and
	is helpful to reveal performance problems with the underlying file
	and storage subsystems.</p><p>This module is stackable.</p></div><div class="refsect1" title="OPTIONS"><a name="id266843"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term">time_audit:audit_timeout = number of milliseconds</span></dt><dd><p>VFS calls that take longer than the defined number of milliseconds
		that should be logged. The default is 10000 (10s).
		</p></dd></dl></div></div><div class="refsect1" title="EXAMPLES"><a name="id266867"></a><h2>EXAMPLES</h2><p>This would log VFS calls that take longer than 3 seconds:</p><pre class="programlisting">
        <em class="parameter"><code>[sample_share]</code></em>
	<a class="link" href="smb.conf.5.html#PATH" target="_top">path = /test/sample_share</a>
	<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = time_audit</a>
	<a class="link" href="smb.conf.5.html#TIME_AUDIT:AUDIT_TIMEOUT" target="_top">time_audit: audit_timeout = 3000</a>
</pre></div><div class="refsect1" title="VERSION"><a name="id265816"></a><h2>VERSION</h2><p>This man page is correct for version 3.6.0 of the Samba suite.
	</p></div><div class="refsect1" title="AUTHOR"><a name="id265826"></a><h2>AUTHOR</h2><p>The original Samba software and related utilities
	were created by Andrew Tridgell. Samba is now developed
	by the Samba Team as an Open Source project similar
	to the way the Linux kernel is developed.</p><p>The time_audit VFS module was created with contributions from
	Abhidnya Chirmule.
	</p></div></div></body></html>
